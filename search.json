[{"path":"https://bennettoxford.github.io/nhstt/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 nhstt authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-effect-size.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"How to expore the effect_size report","text":"start loading R packages downloading effect_size dataset, contains PROMs data including depression (PHQ-9) anxiety (GAD-7) questionnaire scores.","code":"# Load packages library(nhstt) library(ggplot2) library(dplyr) library(tidyr) library(scales) library(stringr)  # Setup nhstt package and download dat nhstt_setup(\"effect_size\")"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-effect-size.html","id":"select-data","dir":"Articles","previous_headings":"","what":"Select data","title":"How to expore the effect_size report","text":"filter data select mean scores standard deviations depression anxiety stress related disorders regions.","code":"# Select data for analysis selected_measures <- effect_size |>     filter(org_type == \"England\" & org_code == \"All\") |>     filter(statistic %in% c(\"mean\", \"sd\")) |>    filter(     (variable_a == \"Depression\") |     (variable_a == \"Anxiety and stress related disorders\" & variable_b == \"Total\")   ) #> ℹ Loading effect_size dataset from cache  # Tidy data for analysis tidy_measures <- selected_measures |>   pivot_wider(names_from = \"statistic\", values_from = \"value\") |>    select(-variable_b, -org_code, -org_name) |>    mutate(     variable_a = factor(variable_a, levels = c(\"Anxiety and stress related disorders\", \"Depression\")),     proms = factor(proms, levels = c(\"GAD7\", \"PHQ9\")),     measure = factor(measure, levels = c(\"start\", \"end\"), labels = c(\"Start of treatment\", \"End of treatment\")),     initial_caseness = factor(initial_caseness, levels = c(\"AtCaseness\", \"NotCaseness\"), labels = c(\"At caseness\", \"Not at caseness\"))   )"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-effect-size.html","id":"create-figure","dir":"Articles","previous_headings":"","what":"Create figure","title":"How to expore the effect_size report","text":"Trends time means standard deviations PHQ-9 GAD-7 scores depression anxiety stress related disorders.","code":""},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"How to use the key_measures report","text":"start loading necessary packages downloading key_measures dataset, contains performance indicators NHS Talking Therapies services across England.","code":"# Load packages library(nhstt) library(ggplot2) library(dplyr) library(scales) library(stringr)  # Setup nhstt package and download dat nhstt_setup(\"key_measures\")"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures.html","id":"select-data","dir":"Articles","previous_headings":"","what":"Select data","title":"How to use the key_measures report","text":"filter data focus received referrals finished treatments regional level. step requires careful exploration underlying data structure. remove data NHS financial year 2020-21 regional breakdowns changed period onwards require data cleaning.","code":"# Select data for analysis selected_measures <- key_measures |>   filter(org_type == \"Commissioning Region\") |>   filter(!org_name == \"UNKNOWN\") |>   filter(measure %in% c(\"referrals_received\", \"finished_course_treatment\")) |>   filter(statistic == \"count\") |>   filter(variable_a == \"Depression\") |>   select(start_date, end_date, org_name, variable_a, statistic, measure, value) #> ℹ Loading key_measures dataset from cache  # Tidy data for analysis selected_measures <- selected_measures |>   mutate(     org_name = str_to_title(str_remove(org_name, \"\\\\s*COMMISSIONING REGION$\")),     org_name = str_replace_all(org_name, \"\\\\b(Of|And)\\\\b\", tolower),     measure = factor(measure, levels = c(\"referrals_received\", \"finished_course_treatment\"), labels = c(\"Referrals received\", \"Finished course of treatment\"))   ) |>   filter(end_date > \"2020-03-31\")"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures.html","id":"create-figure","dir":"Articles","previous_headings":"","what":"Create figure","title":"How to use the key_measures report","text":"Finally, visualise trends time region. Trends time counts referrals received finished treatment courses depression broken region.","code":""},{"path":"https://bennettoxford.github.io/nhstt/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Milan Wiedemann. Author, maintainer. Wellcome Trust. Funder.","code":""},{"path":"https://bennettoxford.github.io/nhstt/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wiedemann M (2025). nhstt: NHS Talking Therapies anxiety depression reports R. R package version 0.0.1, https://github.com/bennettoxford/nhstt.","code":"@Manual{,   title = {nhstt: NHS Talking Therapies for anxiety and depression reports in R},   author = {Milan Wiedemann},   year = {2025},   note = {R package version 0.0.1},   url = {https://github.com/bennettoxford/nhstt}, }"},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"nhstt","dir":"","previous_headings":"","what":"NHS Talking Therapies for anxiety and depression reports in R","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"package active development. Breaking changes likely. nhstt provides access publicly available NHS Talking Therapies reports tidy data format.","code":""},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"Install development version GitHub:","code":"# install.packages(\"pak\") pak::pak(\"bennettoxford/nhstt\")"},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"","code":"library(nhstt)  # Download and process data (run once) nhstt_setup()  # See R package info and avialable datasets nhstt_info()  # Load a dataset key_measures"},{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"annual-reports","dir":"","previous_headings":"Available NHS Talking Therapies reports","what":"Annual reports","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"annual reports available April 2017 March 2025 (8 annual periods).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Add period date columns based on frequency — add_period_columns","title":"Add period date columns based on frequency — add_period_columns","text":"Add period date columns based frequency","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add period date columns based on frequency — add_period_columns","text":"","code":"add_period_columns(df, frequency = \"annual\", period_col = \"period\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add period date columns based on frequency — add_period_columns","text":"df Data frame period column frequency Data frequency: \"annual\", \"quarterly\", \"monthly\" period_col Name period column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add period date columns based on frequency — add_period_columns","text":"Data frame start_date end_date columns","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_config_filters.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply filters defined in dataset configuration — apply_config_filters","title":"Apply filters defined in dataset configuration — apply_config_filters","text":"Apply filters defined dataset configuration","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_config_filters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply filters defined in dataset configuration — apply_config_filters","text":"","code":"apply_config_filters(data, filters)"},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_config_filters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply filters defined in dataset configuration — apply_config_filters","text":"data List data frames filters Named list filter values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_config_filters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply filters defined in dataset configuration — apply_config_filters","text":"List filtered data frames","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/check_dataset_versions.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for dataset version updates — check_dataset_versions","title":"Check for dataset version updates — check_dataset_versions","text":"Check dataset version updates","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/check_dataset_versions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for dataset version updates — check_dataset_versions","text":"","code":"check_dataset_versions()"},{"path":"https://bennettoxford.github.io/nhstt/reference/check_dataset_versions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for dataset version updates — check_dataset_versions","text":"Character vector dataset names updates available","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_numeric_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean numeric values — clean_numeric_values","title":"Clean numeric values — clean_numeric_values","text":"Replaces common non-numeric placeholders NA converting numeric. NHS data often uses special characters data suppression missing values (e.g., \"*\" suppressed values, \"-\" applicable).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_numeric_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean numeric values — clean_numeric_values","text":"","code":"clean_numeric_values(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_numeric_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean numeric values — clean_numeric_values","text":"x Character vector clean","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_numeric_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean numeric values — clean_numeric_values","text":"Numeric vector placeholders converted NA","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_raw_data_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean raw data names — clean_raw_data_names","title":"Clean raw data names — clean_raw_data_names","text":"Standardises table names column names raw data using snake_case. first step tidy pipeline, ensuring consistent naming pattern matching operations.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_raw_data_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean raw data names — clean_raw_data_names","text":"","code":"clean_raw_data_names(raw_data)"},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_raw_data_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean raw data names — clean_raw_data_names","text":"raw_data Nested list data frames period","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_raw_data_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean raw data names — clean_raw_data_names","text":"List cleaned table names column names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/create_dataset_bindings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create active bindings for all datasets — create_dataset_bindings","title":"Create active bindings for all datasets — create_dataset_bindings","text":"Create active bindings datasets","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/create_dataset_bindings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create active bindings for all datasets — create_dataset_bindings","text":"","code":"create_dataset_bindings(pkgname)"},{"path":"https://bennettoxford.github.io/nhstt/reference/create_dataset_loader.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a dataset loader function — create_dataset_loader","title":"Create a dataset loader function — create_dataset_loader","text":"Create dataset loader function","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/create_dataset_loader.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a dataset loader function — create_dataset_loader","text":"","code":"create_dataset_loader(dataset_name)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_annual_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and extract annual report data — download_annual_data","title":"Download and extract annual report data — download_annual_data","text":"Downloads zip/rar files containing CSV files annual reports. archive contains multiple datasets (main, meds, employment, etc.).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_annual_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and extract annual report data — download_annual_data","text":"","code":"download_annual_data(url)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_annual_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and extract annual report data — download_annual_data","text":"url URL zip rar file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_annual_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and extract annual report data — download_annual_data","text":"Named list data frames","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_data_by_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Download data based on source type — download_data_by_type","title":"Download data based on source type — download_data_by_type","text":"Routes appropriate download function based source type.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_data_by_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download data based on source type — download_data_by_type","text":"","code":"download_data_by_type(url, source_type, config = NULL)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_data_by_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download data based on source type — download_data_by_type","text":"url URL download source_type Type data source config Dataset configuration (metadata)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_data_by_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download data based on source type — download_data_by_type","text":"Downloaded data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"Download file with retry logic — download_with_retry","title":"Download file with retry logic — download_with_retry","text":"Download file retry logic","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download file with retry logic — download_with_retry","text":"","code":"download_with_retry(url, destfile, max_attempts = 3, quiet = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download file with retry logic — download_with_retry","text":"url URL download destfile Destination file path max_attempts Maximum number download attempts quiet Suppress download progress?","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download file with retry logic — download_with_retry","text":"TRUE successful","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/effect_size.html","id":null,"dir":"Reference","previous_headings":"","what":"Effect size dataset from NHS TT annual reports — effect_size","title":"Effect size dataset from NHS TT annual reports — effect_size","text":"Contains patient-reported outcome measures (PROMs) data including PHQ-9 GAD-7 scores start end treatment, along effect sizes Work Social Adjustment Scale (WSAS) scores.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/effect_size.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Effect size dataset from NHS TT annual reports — effect_size","text":"tibble tidy/long format following columns: start_date Start date annual reporting period (e.g., \"2024-04-01\") end_date End date annual reporting period (e.g., \"2025-03-31\") period NHS financial year identifier (e.g., \"fy2425\" 2024/25) org_type Organisation type (e.g., \"England\", \"Commissioning Region\", \"STP\", \"CCG\", \"Provider\") org_code Organisation code (e.g., \"\", \"Y54\", \"15M\") org_name Organisation name (e.g., \"\", \"NORTH ENGLAND COMMISSIONING REGION\") proms Patient-reported outcome measure (e.g., \"PHQ9\" depression, \"GAD7\" anxiety) initial_caseness Caseness status start (e.g., \"AtCaseness\", \"NotCaseness\") variable_type Type categorisation (e.g., \"Total\", \"Problem Descriptor\", \"Presenting Complaint\") variable_a Primary breakdown variable (e.g., \"\", \"Depression\", \"Anxiety stress related disorders\") variable_b Secondary breakdown variable, breakfowns categories variable_a (e.g., \"Agoraphobia\") \"\" NA statistic Type statistic (e.g., \"count\", \"mean\", \"sd\", \"effect_size\") measure Measurement type (e.g., \"start\", \"end\", \"start_to_end\" PROM scores, \"finished_course_treatment_paired_wsas\") value Numeric value measure, specified statistic column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/effect_size.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Effect size dataset from NHS TT annual reports — effect_size","text":"https://digital.nhs.uk/data--information/publications/statistical/nhs-talking-therapies--anxiety--depression-annual-reports","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/effect_size.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Effect size dataset from NHS TT annual reports — effect_size","text":"running nhstt_setup(), dataset can accessed directly running effect_size.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/effect_size.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Effect size dataset from NHS TT annual reports — effect_size","text":"","code":"# \\donttest{ nhstt_setup(datasets = \"effect_size\") #>  #> ── NHS Talking Therapies data setup ──────────────────────────────────────────── #> ℹ Downloading: \"effect_size\" #> ℹ Downloading and extracting 8 archives #>   ■■■■■                            1/8 | 24s #>   ■■■■■■■■■■■■                     3/8 | 11s #>   ■■■■■■■■■■■■■■■■■■■■             5/8 |  6s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■      7/8 |  2s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 |  0s #>  #> ℹ Downloading and extracting 8 archives #> ✔ Downloaded and extracted 8 archives [14.8s] #>  #> ℹ Tidying effect_size dataset #> ✔ Tidied effect_size dataset [22.8s] #>  #> ✔ Setup complete! Access data with `effect_size` #> ℹ Data cached in /home/runner/.cache/R/nhstt (0.7 MB) effect_size #> ℹ Loading effect_size dataset from cache #> # A tibble: 1,169,560 × 14 #>    start_date end_date   period org_type org_code org_name proms #>    <date>     <date>     <chr>  <chr>    <chr>    <chr>    <chr> #>  1 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  2 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  3 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  4 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  5 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  6 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  7 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  8 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #>  9 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #> 10 2017-04-01 2018-03-31 fy1718 England  All      All      PHQ9  #> # ℹ 1,169,550 more rows #> # ℹ 7 more variables: initial_caseness <chr>, variable_type <chr>, #> #   variable_a <chr>, variable_b <chr>, statistic <chr>, measure <chr>, #> #   value <dbl> # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/flatten_one_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Flatten nested list by one level — flatten_one_level","title":"Flatten nested list by one level — flatten_one_level","text":"pattern matching, validates exactly one table matched per period extracts . Raises error zero multiple tables matched.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/flatten_one_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flatten nested list by one level — flatten_one_level","text":"","code":"flatten_one_level(data, dataset_name = \"dataset\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/flatten_one_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flatten nested list by one level — flatten_one_level","text":"data Nested list matched tables period dataset_name Dataset identifier error messaging","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/flatten_one_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flatten nested list by one level — flatten_one_level","text":"List flattened one level (one data frame per period)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_date_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Format date range for display — format_date_range","title":"Format date range for display — format_date_range","text":"Format date range display","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_date_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format date range for display — format_date_range","text":"","code":"format_date_range(start_date, end_date)"},{"path":"https://bennettoxford.github.io/nhstt/reference/format_date_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format date range for display — format_date_range","text":"start_date Date character start date end_date Date character end date","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_date_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format date range for display — format_date_range","text":"Character formatted date range","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_iso_datetime.html","id":null,"dir":"Reference","previous_headings":"","what":"Format POSIXct as ISO-8601 string — format_iso_datetime","title":"Format POSIXct as ISO-8601 string — format_iso_datetime","text":"Format POSIXct ISO-8601 string","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_iso_datetime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format POSIXct as ISO-8601 string — format_iso_datetime","text":"","code":"format_iso_datetime(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/format_iso_datetime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format POSIXct as ISO-8601 string — format_iso_datetime","text":"x POSIXct time","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/format_iso_datetime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format POSIXct as ISO-8601 string — format_iso_datetime","text":"Character string UTC","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_dataset_configs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dataset configurations for annual reports — get_annual_dataset_configs","title":"Get dataset configurations for annual reports — get_annual_dataset_configs","text":"Configurations datasets annual report zip files. annual zip contains multiple CSV files extracted using patterns.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_dataset_configs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dataset configurations for annual reports — get_annual_dataset_configs","text":"","code":"get_annual_dataset_configs()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_dataset_configs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dataset configurations for annual reports — get_annual_dataset_configs","text":"List dataset configurations","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_report_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data source links for annual reports — get_annual_report_links","title":"Get data source links for annual reports — get_annual_report_links","text":"URLs annual report zip files. zip contains multiple CSV files.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_report_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data source links for annual reports — get_annual_report_links","text":"","code":"get_annual_report_links()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_annual_report_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data source links for annual reports — get_annual_report_links","text":"Named list URLs period","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_available_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available periods for a source type — get_available_periods","title":"Get available periods for a source type — get_available_periods","text":"Get available periods source type","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_available_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available periods for a source type — get_available_periods","text":"","code":"get_available_periods(source_type = \"annual_reports\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_available_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get available periods for a source type — get_available_periods","text":"source_type Character, data source type","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_available_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available periods for a source type — get_available_periods","text":"Character vector available periods","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get package cache directory — get_cache_dir","title":"Get package cache directory — get_cache_dir","text":"Get package cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get package cache directory — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get package cache directory — get_cache_dir","text":"Character, path cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve cache index information — get_cache_index","title":"Retrieve cache index information — get_cache_index","text":"Retrieve cache index information","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve cache index information — get_cache_index","text":"","code":"get_cache_index()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve cache index information — get_cache_index","text":"List containing cache metadata NULL missing","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Cache index path — get_cache_index_path","title":"Cache index path — get_cache_index_path","text":"Cache index path","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cache index path — get_cache_index_path","text":"","code":"get_cache_index_path(cache_dir = get_cache_dir())"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cache index path — get_cache_index_path","text":"cache_dir Cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_index_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cache index path — get_cache_index_path","text":"Character path cache index file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_configs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all dataset configurations — get_dataset_configs","title":"Get all dataset configurations — get_dataset_configs","text":"Combines dataset configurations different sources.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_configs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all dataset configurations — get_dataset_configs","text":"","code":"get_dataset_configs()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_configs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all dataset configurations — get_dataset_configs","text":"List dataset configurations","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_configs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dataset configurations for metadata — get_metadata_configs","title":"Get dataset configurations for metadata — get_metadata_configs","text":"Configurations metadata extracted Excel files. Placeholder future implementation.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_configs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dataset configurations for metadata — get_metadata_configs","text":"","code":"get_metadata_configs()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_configs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dataset configurations for metadata — get_metadata_configs","text":"List dataset configurations","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data source links for metadata files — get_metadata_links","title":"Get data source links for metadata files — get_metadata_links","text":"URLs metadata Excel files (one per period). Placeholder future implementation.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data source links for metadata files — get_metadata_links","text":"","code":"get_metadata_links()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data source links for metadata files — get_metadata_links","text":"Named list URLs period","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_package_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Get package version — get_package_version","title":"Get package version — get_package_version","text":"Get package version","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_package_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get package version — get_package_version","text":"","code":"get_package_version()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_package_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get package version — get_package_version","text":"Character, package version string","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all source links by type — get_source_links","title":"Get all source links by type — get_source_links","text":"Get source links type","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all source links by type — get_source_links","text":"","code":"get_source_links(source_type)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_links.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get all source links by type — get_source_links","text":"source_type Character, type source","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all source links by type — get_source_links","text":"Named list URLs","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_pkg_build_context.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if running in package build/check/documentation context — is_pkg_build_context","title":"Check if running in package build/check/documentation context — is_pkg_build_context","text":"Detects code executed R CMD check, R CMD build, roxygen2 documentation generation.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_pkg_build_context.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if running in package build/check/documentation context — is_pkg_build_context","text":"","code":"is_pkg_build_context()"},{"path":"https://bennettoxford.github.io/nhstt/reference/is_pkg_build_context.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if running in package build/check/documentation context — is_pkg_build_context","text":"Logical, TRUE build/check/documentation context","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_roxygen_context.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect if package is being loaded by roxygen2 — is_roxygen_context","title":"Detect if package is being loaded by roxygen2 — is_roxygen_context","text":"Checks call stack roxygen2 .list.environment calls, indicates documentation generated.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_roxygen_context.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect if package is being loaded by roxygen2 — is_roxygen_context","text":"","code":"is_roxygen_context()"},{"path":"https://bennettoxford.github.io/nhstt/reference/is_roxygen_context.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect if package is being loaded by roxygen2 — is_roxygen_context","text":"Logical, TRUE roxygen2 call stack","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if package data is set up — is_setup","title":"Check if package data is set up — is_setup","text":"Check package data set ","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if package data is set up — is_setup","text":"","code":"is_setup()"},{"path":"https://bennettoxford.github.io/nhstt/reference/is_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if package data is set up — is_setup","text":"Logical, returns TRUE NHS TT data set , FALSE otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/key_measures.html","id":null,"dir":"Reference","previous_headings":"","what":"Key measures dataset from NHS TT annual reports — key_measures","title":"Key measures dataset from NHS TT annual reports — key_measures","text":"Contains key performance indicators NHS Talking Therapies services including referrals, treatment completion, recovery, improvement rates across different problem descriptors presenting complaints.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/key_measures.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Key measures dataset from NHS TT annual reports — key_measures","text":"tibble tidy/long format following columns: start_date Start date annual reporting period (e.g., \"2024-04-01\") end_date End date annual reporting period (e.g., \"2025-03-31\") period NHS financial year identifier (e.g., \"fy2425\" 2024/25) org_type Organisation type (e.g., \"England\", \"Commissioning Region\", \"STP\", \"CCG\", \"Provider\") org_code Organisation code (e.g., \"\", \"Y54\", \"15M\") org_name Organisation name (e.g., \"\", \"NORTH ENGLAND COMMISSIONING REGION\") variable_type Type categorisation (e.g., \"Problem Descriptor\", \"Presenting Complaint\") variable_a Primary breakdown variable (e.g., \"Depression\", \"Anxiety stress related disorders\", \"ADSM\") variable_b Secondary breakdown variable, breakfowns categories variable_a (e.g., \"Agoraphobia\", \"Generalized anxiety disorder\") NA statistic Type statistic (e.g., \"count\", \"percentage\") measure Outcome measure (e.g., \"referrals_received\", \"finished_course_treatment\", \"recovery\", \"improvement\") value Numeric value measure, specified statistic column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/key_measures.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Key measures dataset from NHS TT annual reports — key_measures","text":"https://digital.nhs.uk/data--information/publications/statistical/nhs-talking-therapies--anxiety--depression-annual-reports","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/key_measures.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Key measures dataset from NHS TT annual reports — key_measures","text":"running nhstt_setup(), dataset can accessed directly running key_measures.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/key_measures.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Key measures dataset from NHS TT annual reports — key_measures","text":"","code":"# \\donttest{ nhstt_setup(datasets = \"key_measures\") #>  #> ── NHS Talking Therapies data setup ──────────────────────────────────────────── #> ℹ Downloading: \"key_measures\" #> ℹ Downloading and extracting 8 archives #>   ■■■■■■■■■■■■■■■■                 4/8 |  5s #>   ■■■■■■■■■■■■■■■■■■■■■■■          6/8 |  3s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 |  0s #>  #> ℹ Downloading and extracting 8 archives #> ✔ Downloaded and extracted 8 archives [11.2s] #>  #> ℹ Tidying key_measures dataset #> ✔ Tidied key_measures dataset [11.4s] #>  #> ✔ Setup complete! Access data with `key_measures` #> ℹ Data cached in /home/runner/.cache/R/nhstt (1 MB) key_measures #> ℹ Loading key_measures dataset from cache #> # A tibble: 584,780 × 12 #>    start_date end_date   period org_type org_code org_name variable_type      #>    <date>     <date>     <chr>  <chr>    <chr>    <chr>    <chr>              #>  1 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  2 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  3 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  4 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  5 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  6 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  7 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  8 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  9 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #> 10 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #> # ℹ 584,770 more rows #> # ℹ 5 more variables: variable_a <chr>, variable_b <chr>, statistic <chr>, #> #   measure <chr>, value <dbl> # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/medication_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Medication status dataset from NHS TT annual reports — medication_status","title":"Medication status dataset from NHS TT annual reports — medication_status","text":"Contains information psychotropic medication status start end treatment NHS Talking Therapies patients, including whether prescribed medication, taking , prescribed.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/medication_status.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Medication status dataset from NHS TT annual reports — medication_status","text":"tibble tidy/long format following columns: start_date Start date annual reporting period (e.g., \"2024-04-01\") end_date End date annual reporting period (e.g., \"2025-03-31\") period NHS financial year identifier (e.g., \"fy2425\" 2024/25) org_type Organisation type (e.g., \"England\", \"Commissioning Region\", \"STP\", \"CCG\", \"Provider\") org_code Organisation code (e.g., \"\", \"Y54\", \"15M\") org_name Organisation name (e.g., \"\", \"NORTH ENGLAND COMMISSIONING REGION\") variable_type Type categorisation (always \"Psychotropic Medication Status\") variable_a Primary breakdown variable (e.g., \"Status Start - Prescribed taking\", \"Status Start - Prescribed\") variable_b Always NA dataset statistic Type statistic (always \"count\") measure Medication status measure end (e.g., \"status_end_prescribed_and_taking\", \"status_end_not_prescribed\") value Numeric value measure, specified statistic column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/medication_status.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Medication status dataset from NHS TT annual reports — medication_status","text":"https://digital.nhs.uk/data--information/publications/statistical/nhs-talking-therapies--anxiety--depression-annual-reports","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/medication_status.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Medication status dataset from NHS TT annual reports — medication_status","text":"running nhstt_setup(), dataset can accessed directly running medication_status.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/medication_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Medication status dataset from NHS TT annual reports — medication_status","text":"","code":"# \\donttest{ nhstt_setup(datasets = \"medication_status\") #>  #> ── NHS Talking Therapies data setup ──────────────────────────────────────────── #> ℹ Downloading: \"medication_status\" #> ℹ Downloading and extracting 8 archives #>   ■■■■■                            1/8 | 20s #>   ■■■■■■■■■■■■■■■■                 4/8 |  7s #>   ■■■■■■■■■■■■■■■■■■■■■■■          6/8 |  3s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 |  0s #>  #> ℹ Downloading and extracting 8 archives #> ✔ Downloaded and extracted 8 archives [13.4s] #>  #> ℹ Tidying medication_status dataset #> ✔ Tidied medication_status dataset [2.5s] #>  #> ✔ Setup complete! Access data with `medication_status` #> ℹ Data cached in /home/runner/.cache/R/nhstt (1 MB) medication_status #> ℹ Loading medication_status dataset from cache #> # A tibble: 60,900 × 12 #>    start_date end_date   period org_type org_code org_name variable_type         #>    <date>     <date>     <chr>  <chr>    <chr>    <chr>    <chr>                 #>  1 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  2 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  3 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  4 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  5 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  6 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  7 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  8 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #>  9 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #> 10 2017-04-01 2018-03-31 fy1718 England  All      All      Psychotropic Medicat… #> # ℹ 60,890 more rows #> # ℹ 5 more variables: variable_a <chr>, variable_b <chr>, statistic <chr>, #> #   measure <chr>, value <dbl> # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_check_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Check column names across years for a dataset — nhstt_check_columns","title":"Check column names across years for a dataset — nhstt_check_columns","text":"Displays detailed comparison column names across years specific table, showing columns present years vs missing years. Uses colour-coded output easy visual inspection.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_check_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check column names across years for a dataset — nhstt_check_columns","text":"","code":"nhstt_check_columns(raw_data, table_name, clean_names = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_check_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check column names across years for a dataset — nhstt_check_columns","text":"raw_data Raw data nhstt_get_raw() table_name Name table check (e.g., \"main\", \"therapy_type\", \"therapist_role\") clean_names Logical, whether apply janitor::make_clean_names() comparison. Default TRUE match tidy pipeline processes names.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_check_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check column names across years for a dataset — nhstt_check_columns","text":"Invisibly returns list complete columns, partial columns, presence matrix","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_check_columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check column names across years for a dataset — nhstt_check_columns","text":"","code":"# \\donttest{ raw <- nhstt_get_raw() #> ℹ Downloading raw data for 8 periods #> Downloading ■■■■■■■■■■■■■■■■                 4/8 #> Downloading ■■■■■■■■■■■■■■■■■■■■■■■          6/8 #> Downloading ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 #>  #> ✔ Downloaded 8 periods  # Check main dataset nhstt_check_columns(raw, \"key_measures\") #> ── Column comparison: key_measures ───────────────────────────────────────────── #> ✔ 40 columns present in ALL 8 periods #> ! 16 columns missing in some periods #> ──────────────────────────────────────────────────────────────────────────────── #>  #> Column #> ✔ Present in all periods: #> org_type                                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> org_code                                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> org_name                                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_type                                      ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_a                                         ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_b                                         ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_referrals_received                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_finished_course_treatment                    ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_ended_referrals                              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_ended_before_treatment                       ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_wait_finished_course_treatment                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_at_caseness                                  ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_not_at_caseness                              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_improvement                                  ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_improvement                             ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_no_reliable_change                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_no_reliable_change                      ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_deterioration                                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_deterioration                           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_recovery                                     ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_recovery                                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_reliable_recovery                            ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_reliable_recovery                       ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_baf_indicator_completion                     ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_baf_indicator_completion                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_finished_treatment_first6months              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_finished_treatment_first6months_follow_up    ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> percentage_follow_up_appointment                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_contact_duration                              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> median_contact_duration                            ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> sum_contact_duration                               ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_appts_finished_course_treatment              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_total_contact_duration_per_referral           ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> median_total_contact_duration_per_referral         ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_finished_course_treatment_contact_duration   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments_recovery               ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments_improvement            ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments_no_change              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments_deterioration          ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments_reliable_recovery      ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #>  #> ! Missing in some periods: #> count_accessing_services                           ✖  ✖  ✖  ✖  ✖  ✔  ✔  ✔  #> count_appropriate_paired_adsm                      ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> count_ended_after_one_treatment                    ✖  ✖  ✖  ✖  ✖  ✔  ✔  ✔  #> count_finished_course_treatment_with_emp_sup       ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #> count_first_treatment                              ✔  ✔  ✔  ✔  ✔  ✖  ✖  ✖  #> count_paired_adsm                                  ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_second_treatment                             ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> mean_appts_finished_course_treatment               ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> mean_treatment_appointments                        ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> mean_wait_accessing_services                       ✖  ✖  ✖  ✖  ✖  ✔  ✖  ✔  #> mean_wait_entered_treatment                        ✔  ✔  ✔  ✔  ✔  ✖  ✔  ✖  #> percentage_appropriate_paired_adsm                 ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> percentage_finished_course_treatment               ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✖  #> percentage_paired_adsm                             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> percentage_variable_with_fc_tand_es                ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #> percentage_variable_with_fct                       ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #>  #> ──────────────────────────────────────────────────────────────────────────────── #> ℹ Column names shown after applying `janitor::make_clean_names()`  # Check therapy type nhstt_check_columns(raw, \"therapy_type\") #> ── Column comparison: therapy_type ───────────────────────────────────────────── #> ✔ 23 columns present in ALL 8 periods #> ! 10 columns missing in some periods #> ──────────────────────────────────────────────────────────────────────────────── #>  #> Column #> ✔ Present in all periods: #> org_type                                                                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> org_code                                                                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> org_name                                                                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_type                                                              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_a                                                                 ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> variable_b                                                                 ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_guided_self_help_book                       ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_non_guided_self_help_book                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_guided_self_help_computer                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_non_guided_self_help_computer               ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_structured_physical_activity                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_psycho_educational_peer_support             ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_other                                       ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_applied_relaxation                          ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_couples_therapy_for_depression              ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_collaborative_care                          ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_counselling_for_depression                  ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_eye_movement_desensitisation_reprocessing   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_mindfulness                                 ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_cognitive_behaviour_therapy                 ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_interpersonal_psycho_therapy                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_other                                       ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_last_not_stated                                ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #>  #> ! Missing in some periods: #> count_therapy_end_treatment_employment_support                             ✖  ✖  ✖  ✔  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_hi_behavioural_activation                      ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_hi_brief_psycho_dynamic_psychotherapy          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_hi_employment_support                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_hi_internet_enabled_therapy                    ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_hi_short_term_psycho_dynamic_psychotherapy     ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> count_therapy_end_treatment_li_ante_post_natal_counselling                 ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_li_behavioural_activation                      ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_li_employment_support                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> count_therapy_end_treatment_li_signposting                                 ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #>  #> ──────────────────────────────────────────────────────────────────────────────── #> ℹ Column names shown after applying `janitor::make_clean_names()`  # Check with original (non-cleaned) names nhstt_check_columns(raw, \"key_measures\", clean_names = FALSE) #> ── Column comparison: key_measures ───────────────────────────────────────────── #> ✔ 6 columns present in ALL 8 periods #> ! 87 columns missing in some periods #> ──────────────────────────────────────────────────────────────────────────────── #>  #> Column #> ✔ Present in all periods: #> OrgType                                        ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> OrgCode                                        ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> OrgName                                        ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> VariableType                                   ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> VariableA                                      ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #> VariableB                                      ✔  ✔  ✔  ✔  ✔  ✔  ✔  ✔  #>  #> ! Missing in some periods: #> CountApptsFinishedCourseTreatment              ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountAtCaseness                                ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountBAFIndicatorCompletion                    ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountDeterioration                             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountEndedBeforeTreatment                      ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountEndedReferrals                            ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountFinishedCourseTreatment                   ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountFinishedCourseTreatmentContactDuration    ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountFinishedTreatmentFirst6Months             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountFinishedTreatmentFirst6MonthsFollowUp     ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountFirstTreatment                            ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountImprovement                               ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountNoReliableChange                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountNotAtCaseness                             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountPairedADSM                                ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountRecovery                                  ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountReferralsReceived                         ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> CountReliableRecovery                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> Count_AccessingServices                        ✖  ✖  ✖  ✖  ✖  ✔  ✔  ✔  #> Count_AppropriatePairedADSM                    ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_ApptsFinishedCourseTreatment             ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_AtCaseness                               ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_BAFIndicatorCompletion                   ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_Deterioration                            ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_EndedAfterOneTreatment                   ✖  ✖  ✖  ✖  ✖  ✔  ✔  ✔  #> Count_EndedBeforeTreatment                     ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_EndedReferrals                           ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_FinishedCourseTreatment                  ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_FinishedCourseTreatmentContactDuration   ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_FinishedCourseTreatment_with_EmpSup      ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #> Count_FinishedTreatmentFirst6Months            ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_FinishedTreatmentFirst6MonthsFollowUp    ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_FirstTreatment                           ✖  ✖  ✖  ✔  ✔  ✖  ✖  ✖  #> Count_Improvement                              ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_NoReliableChange                         ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_NotAtCaseness                            ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_Recovery                                 ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_ReferralsReceived                        ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_ReliableRecovery                         ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Count_SecondTreatment                          ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> MeanContactDuration                            ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTotalContactDurationPerReferral            ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointments                      ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointmentsDeterioration         ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointmentsImprovement           ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointmentsNoChange              ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointmentsRecovery              ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanTreatmentAppointmentsReliableRecovery      ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanWaitEnteredTreatment                       ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MeanWaitFinishedCourseTreatment                ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> Mean_ApptsFinishedCourseTreatment              ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_ContactDuration                           ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TotalContactDurationPerReferral           ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TreatmentAppointmentsDeterioration        ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TreatmentAppointmentsImprovement          ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TreatmentAppointmentsNoChange             ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TreatmentAppointmentsRecovery             ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_TreatmentAppointmentsReliableRecovery     ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Mean_WaitAccessingServices                     ✖  ✖  ✖  ✖  ✖  ✔  ✖  ✔  #> Mean_WaitEnteredTreatment                      ✖  ✖  ✖  ✔  ✔  ✖  ✔  ✖  #> Mean_WaitFinishedCourseTreatment               ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> MedianContactDuration                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> MedianTotalContactDurationPerReferral          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> Median_ContactDuration                         ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Median_TotalContactDurationPerReferral         ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> PercentageBAFIndicatorCompletion               ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageDeterioration                        ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageFinishedCourseTreatment              ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageFollowUpAppointment                  ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageImprovement                          ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageNoReliableChange                     ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentagePairedADSM                           ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageRecovery                             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> PercentageReliableRecovery                     ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> Percentage_AppropriatePairedADSM               ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_BAFIndicatorCompletion              ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_Deterioration                       ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_FinishedCourseTreatment             ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✖  #> Percentage_FollowUpAppointment                 ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_Improvement                         ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_NoReliableChange                    ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_Recovery                            ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_ReliableRecovery                    ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #> Percentage_Variable_withFCT                    ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #> Percentage_Variable_withFCTandES               ✖  ✖  ✖  ✖  ✖  ✖  ✖  ✔  #> SumContactDuration                             ✔  ✔  ✔  ✖  ✖  ✖  ✖  ✖  #> Sum_ContactDuration                            ✖  ✖  ✖  ✔  ✔  ✔  ✔  ✔  #>  #> ──────────────────────────────────────────────────────────────────────────────── # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_clear_download_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear downloaded data — nhstt_clear_download_cache","title":"Clear downloaded data — nhstt_clear_download_cache","text":"Clear downloaded data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_clear_download_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear downloaded data — nhstt_clear_download_cache","text":"","code":"nhstt_clear_download_cache(confirm = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_clear_download_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear downloaded data — nhstt_clear_download_cache","text":"confirm Logical, specifying whether require confirmation deletion. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_clear_download_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear downloaded data — nhstt_clear_download_cache","text":"Invisible NULL","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_clear_download_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear downloaded data — nhstt_clear_download_cache","text":"","code":"# \\donttest{ nhstt_clear_download_cache(confirm = FALSE) #> ✔ Downloaded data cleared from disk # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NHS TT data — nhstt_data","title":"Get NHS TT data — nhstt_data","text":"Load tidied NHS Talking Therapies data cache. running nhstt_setup(), datasets can also accessed directly name (e.g., key_measures) instead using function.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NHS TT data — nhstt_data","text":"","code":"nhstt_data(dataset = \"key_measures\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NHS TT data — nhstt_data","text":"dataset Character, specifying dataset load. Use nhstt_info() see options. Default \"key_measures\".","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NHS TT data — nhstt_data","text":"tibble containing requested dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_get_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","title":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","text":"Downloads extracts raw data without tidying. Table names simplified easier exploration, column names data values remain exactly appear source files. Useful package developers inspect raw data structure.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_get_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","text":"","code":"nhstt_get_raw(periods = NULL, source_type = \"annual_reports\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_get_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","text":"periods Character vector, specifying periods download. NULL, downloads available periods. Default NULL. source_type Character, specifying data source type. Default \"annual_reports\".","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_get_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","text":"Named list raw data frames period simplified table names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_get_raw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download raw NHS TT data files as published on NHS Digital — nhstt_get_raw","text":"","code":"# \\donttest{ # Download all raw annual data raw <- nhstt_get_raw() #> ℹ Downloading raw data for 8 periods #> Downloading ■■■■■                            1/8 #> Downloading ■■■■■■■■■■■■■■■■                 4/8 #> Downloading ■■■■■■■■■■■■■■■■■■■■■■■          6/8 #> Downloading ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 #>  #> ✔ Downloaded 8 periods  # Download specific years raw <- nhstt_get_raw(periods = c(\"fy2324\", \"fy2425\")) #> ℹ Downloading raw data for 2 periods #> Downloading ■■■■■■■■■■■■■■■■                 1/2 #> Downloading ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  2/2 #>  #> ✔ Downloaded 2 periods  # Inspect structure names(raw) #> [1] \"fy2324\" \"fy2425\" names(raw$fy2425) #> [1] \"effect_size\"       \"employment_status\" \"iet_ltc\"           #> [4] \"key_measures\"      \"peq\"               \"medication_status\" #> [7] \"therapist_role\"    \"therapy_type\"      # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get information about NHS Talking Therapies datasets — nhstt_info","title":"Get information about NHS Talking Therapies datasets — nhstt_info","text":"Shows available datasets package, including version, description, download status, whether updates available.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get information about NHS Talking Therapies datasets — nhstt_info","text":"","code":"nhstt_info()"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get information about NHS Talking Therapies datasets — nhstt_info","text":"Invisible list containing metadata information","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get information about NHS Talking Therapies datasets — nhstt_info","text":"","code":"nhstt_info() #> ! Data not set up #> ℹ Run `nhstt_setup()` to download and process data #> ──────────────────────────────────────────────────────────────────────────────── #>  #> ── Available datasets  #> ℹ key_measures v0.1.0: Key measures like referrals, finished treatments, and treatment outcomes #> ℹ medication_status v0.1.0: Psychotropic medication status at start and end of treatment #> ℹ therapy_type v0.1.0: Therapy type at start and end of treatment #> ℹ effect_size v0.1.0: Effect sizes for PHQ9 and GAD7, with start and end of treatment scores"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup R package and download NHS TT reports — nhstt_setup","title":"Setup R package and download NHS TT reports — nhstt_setup","text":"Downloads tidies NHS Talking Therapies data available periods. Run initialise package data. setup, datasets can accessed directly name (e.g., key_measures).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup R package and download NHS TT reports — nhstt_setup","text":"","code":"nhstt_setup(   datasets = c(\"key_measures\", \"medication_status\", \"therapy_type\", \"effect_size\"),   force = FALSE )"},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_setup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup R package and download NHS TT reports — nhstt_setup","text":"datasets Character vector, specifying datasets process. Available datasets can listed nhstt_info(). Default includes four main datasets. force Logical, specifying whether re-download even data exists. Default FALSE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Setup R package and download NHS TT reports — nhstt_setup","text":"Invisible character, path cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/nhstt_setup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Setup R package and download NHS TT reports — nhstt_setup","text":"","code":"# \\donttest{ # Download all default datasets (recommended) # nhstt_setup()  # Download specific datasets only nhstt_setup(datasets = c(\"key_measures\")) #>  #> ── NHS Talking Therapies data setup ──────────────────────────────────────────── #> ℹ Downloading: \"key_measures\" #> ℹ Downloading and extracting 8 archives #>   ■■■■■                            1/8 |  9s #>   ■■■■■■■■■■■■■■■■                 4/8 |  5s #>   ■■■■■■■■■■■■■■■■■■■■■■■          6/8 |  3s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 |  0s #>  #> ℹ Downloading and extracting 8 archives #> ✔ Downloaded and extracted 8 archives [11.2s] #>  #> ℹ Tidying key_measures dataset #> ✔ Tidied key_measures dataset [11.7s] #>  #> ✔ Setup complete! Access data with `key_measures` #> ℹ Data cached in /home/runner/.cache/R/nhstt (0.4 MB)  # After setup, access datasets directly key_measures #> ℹ Loading key_measures dataset from cache #> # A tibble: 584,780 × 12 #>    start_date end_date   period org_type org_code org_name variable_type      #>    <date>     <date>     <chr>  <chr>    <chr>    <chr>    <chr>              #>  1 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  2 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  3 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  4 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  5 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  6 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  7 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  8 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #>  9 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #> 10 2017-04-01 2018-03-31 fy1718 England  All      All      Problem Descriptor #> # ℹ 584,770 more rows #> # ℹ 5 more variables: variable_a <chr>, variable_b <chr>, statistic <chr>, #> #   measure <chr>, value <dbl>  # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse annual (financial year) period bounds — parse_annual_period_bounds","title":"Parse annual (financial year) period bounds — parse_annual_period_bounds","text":"Parse annual (financial year) period bounds","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse annual (financial year) period bounds — parse_annual_period_bounds","text":"","code":"parse_annual_period_bounds(periods)"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse annual (financial year) period bounds — parse_annual_period_bounds","text":"periods Character vector like \"fy2324\"","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse annual (financial year) period bounds — parse_annual_period_bounds","text":"List start_date end_date","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_iso_datetime.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse ISO-8601 string into POSIXct — parse_iso_datetime","title":"Parse ISO-8601 string into POSIXct — parse_iso_datetime","text":"Parse ISO-8601 string POSIXct","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_iso_datetime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse ISO-8601 string into POSIXct — parse_iso_datetime","text":"","code":"parse_iso_datetime(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_iso_datetime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse ISO-8601 string into POSIXct — parse_iso_datetime","text":"x Character string","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_iso_datetime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse ISO-8601 string into POSIXct — parse_iso_datetime","text":"POSIXct time UTC","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_period_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse period bounds for supported frequencies — parse_period_bounds","title":"Parse period bounds for supported frequencies — parse_period_bounds","text":"Currently supports \"annual\" frequency. \"quarterly\" \"monthly\" added future versions.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_period_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse period bounds for supported frequencies — parse_period_bounds","text":"","code":"parse_period_bounds(periods, frequency = \"annual\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_period_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse period bounds for supported frequencies — parse_period_bounds","text":"periods Character vector period identifiers frequency Data frequency: \"annual\", \"quarterly\", \"monthly\"","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_period_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse period bounds for supported frequencies — parse_period_bounds","text":"List start_date end_date vectors","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_measure_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Pivot measure columns into tidy format — pivot_measure_columns","title":"Pivot measure columns into tidy format — pivot_measure_columns","text":"Pivot measure columns tidy format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_measure_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pivot measure columns into tidy format — pivot_measure_columns","text":"","code":"pivot_measure_columns(   data,   frequency = \"annual\",   measure_cols,   extract_regex = \"^(count|mean|median|percentage|sum)_(.+)$\" )"},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_measure_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pivot measure columns into tidy format — pivot_measure_columns","text":"data List tidied data frames frequency Data frequency: \"annual\", \"quarterly\", \"monthly\" measure_cols Character vector measure column names pivot extract_regex Regex extracting statistic measure. Defaults standard pattern.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_measure_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pivot measure columns into tidy format — pivot_measure_columns","text":"Tidied tibble","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_dataset_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Select configured columns from dataset — select_dataset_columns","title":"Select configured columns from dataset — select_dataset_columns","text":"Selects columns exist data frame. Columns exist silently skipped, allows handling inconsistent column names across years.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_dataset_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select configured columns from dataset — select_dataset_columns","text":"","code":"select_dataset_columns(data, columns)"},{"path":"https://bennettoxford.github.io/nhstt/reference/select_dataset_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select configured columns from dataset — select_dataset_columns","text":"data List data frames columns Character vector columns keep","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_dataset_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select configured columns from dataset — select_dataset_columns","text":"List columns selected","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_tables_by_pattern.html","id":null,"dir":"Reference","previous_headings":"","what":"Select tables by pattern — select_tables_by_pattern","title":"Select tables by pattern — select_tables_by_pattern","text":"Select tables pattern","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_tables_by_pattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select tables by pattern — select_tables_by_pattern","text":"","code":"select_tables_by_pattern(raw_data, pattern)"},{"path":"https://bennettoxford.github.io/nhstt/reference/select_tables_by_pattern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select tables by pattern — select_tables_by_pattern","text":"raw_data Named list data frames period pattern Regex pattern match table names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/select_tables_by_pattern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select tables by pattern — select_tables_by_pattern","text":"Filtered list","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_raw_table_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Simplify raw table names only — simplify_raw_table_names","title":"Simplify raw table names only — simplify_raw_table_names","text":"Simplifies table names raw data leaves column names exactly appear source files. Useful exploring raw data structure.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_raw_table_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simplify raw table names only — simplify_raw_table_names","text":"","code":"simplify_raw_table_names(raw_data)"},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_raw_table_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simplify raw table names only — simplify_raw_table_names","text":"raw_data Nested list data frames period","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_raw_table_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simplify raw table names only — simplify_raw_table_names","text":"List simplified table names, original column names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_table_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Simplify table names — simplify_table_names","title":"Simplify table names — simplify_table_names","text":"Extracts core table type verbose NHS file names removing redundant prefixes, suffixes, standardising variations across years.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_table_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simplify table names — simplify_table_names","text":"","code":"simplify_table_names(names)"},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_table_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simplify table names — simplify_table_names","text":"names Character vector raw table names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/simplify_table_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simplify table names — simplify_table_names","text":"Simplified snake_case table names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/standardise_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardise variable names — standardise_variables","title":"Standardise variable names — standardise_variables","text":"Standardise variable names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/standardise_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardise variable names — standardise_variables","text":"","code":"standardise_variables(data, var_mapping)"},{"path":"https://bennettoxford.github.io/nhstt/reference/standardise_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardise variable names — standardise_variables","text":"data Nested list data frames var_mapping Named vector mapping old names new names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/standardise_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardise variable names — standardise_variables","text":"List renamed variables","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/strip_measure_prefix.html","id":null,"dir":"Reference","previous_headings":"","what":"Strip prefix from measure column — strip_measure_prefix","title":"Strip prefix from measure column — strip_measure_prefix","text":"Removes specified prefix measure column tidied dataset. Useful cleaning verbose measure names pivoting.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/strip_measure_prefix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Strip prefix from measure column — strip_measure_prefix","text":"","code":"strip_measure_prefix(df, prefix)"},{"path":"https://bennettoxford.github.io/nhstt/reference/strip_measure_prefix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Strip prefix from measure column — strip_measure_prefix","text":"df Tidied data frame measure column prefix Character string remove start measure values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/strip_measure_prefix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Strip prefix from measure column — strip_measure_prefix","text":"Data frame cleaned measure values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/therapy_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Therapy type dataset from NHS TT annual reports — therapy_type","title":"Therapy type dataset from NHS TT annual reports — therapy_type","text":"Contains information types therapy recorded start treatment, including low intensity interventions (e.g., guided self-help) high intensity interventions (e.g., CBT, EMDR).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/therapy_type.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Therapy type dataset from NHS TT annual reports — therapy_type","text":"tibble tidy/long format following columns: start_date Start date annual reporting period (e.g., \"2024-04-01\") end_date End date annual reporting period (e.g., \"2025-03-31\") period NHS financial year identifier (e.g., \"fy2425\" 2024/25) org_type Organisation type (e.g., \"England\", \"Commissioning Region\", \"STP\", \"CCG\", \"Provider\") org_code Organisation code (e.g., \"\", \"Y54\", \"15M\") org_name Organisation name (e.g., \"\", \"NORTH ENGLAND COMMISSIONING REGION\") variable_type Type categorisation (always \"Therapy type recorded start treatment\") variable_a Primary breakdown variable (e.g., \"Low Intensity\", \"High Intensity\", \"stated/known/Invalid\") variable_b Secondary breakdown variable, breakfowns categories variable_a (e.g., \"Guided self help book\", \"CBT\", \"Counselling depression\") NA statistic Type statistic (always \"count\" dataset) measure Therapy type measure (e.g., \"li_guided_self_help_book\", \"hi_cbt\") value Numeric value measure, specified statistic column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/therapy_type.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Therapy type dataset from NHS TT annual reports — therapy_type","text":"https://digital.nhs.uk/data--information/publications/statistical/nhs-talking-therapies--anxiety--depression-annual-reports","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/therapy_type.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Therapy type dataset from NHS TT annual reports — therapy_type","text":"running nhstt_setup(), dataset can accessed directly running therapy_type.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/therapy_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Therapy type dataset from NHS TT annual reports — therapy_type","text":"","code":"# \\donttest{ nhstt_setup(datasets = \"therapy_type\") #>  #> ── NHS Talking Therapies data setup ──────────────────────────────────────────── #> ℹ Downloading: \"therapy_type\" #> ℹ Downloading and extracting 8 archives #>   ■■■■■                            1/8 | 24s #>   ■■■■■■■■■                        2/8 | 14s #>   ■■■■■■■■■■■■■■■■                 4/8 |  7s #>   ■■■■■■■■■■■■■■■■■■■■■■■          6/8 |  3s #>   ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  8/8 |  0s #>  #> ℹ Downloading and extracting 8 archives #> ✔ Downloaded and extracted 8 archives [13.6s] #>  #> ℹ Tidying therapy_type dataset #> ✔ Tidied therapy_type dataset [16s] #>  #> ✔ Setup complete! Access data with `therapy_type` #> ℹ Data cached in /home/runner/.cache/R/nhstt (0.6 MB) therapy_type #> ℹ Loading therapy_type dataset from cache #> # A tibble: 903,057 × 12 #>    start_date end_date   period org_type org_code org_name variable_type         #>    <date>     <date>     <chr>  <chr>    <chr>    <chr>    <chr>                 #>  1 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  2 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  3 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  4 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  5 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  6 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  7 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  8 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #>  9 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #> 10 2017-04-01 2018-03-31 fy1718 England  All      All      Therapy type recorde… #> # ℹ 903,047 more rows #> # ℹ 5 more variables: variable_a <chr>, variable_b <chr>, statistic <chr>, #> #   measure <chr>, value <dbl> # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_annual_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy annual dataset — tidy_annual_dataset","title":"Tidy annual dataset — tidy_annual_dataset","text":"Generic tidying function annual report datasets. Applies standard tidying pipeline using configuration provided dataset config.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_annual_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy annual dataset — tidy_annual_dataset","text":"","code":"tidy_annual_dataset(raw_data, config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_annual_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy annual dataset — tidy_annual_dataset","text":"raw_data Named list raw data period config Dataset configuration list","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_annual_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy annual dataset — tidy_annual_dataset","text":"Tidied tibble","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy dataset values — tidy_dataset_values","title":"Tidy dataset values — tidy_dataset_values","text":"Replace \"NULL\" strings NA coerce measure columns numeric. Handles common NHS data suppression markers (*, -, etc.) gracefully.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy dataset values — tidy_dataset_values","text":"","code":"tidy_dataset_values(data, measure_cols)"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy dataset values — tidy_dataset_values","text":"data List data frames measure_cols Character vector measure column names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy dataset values — tidy_dataset_values","text":"List tidied data frames","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/update_cache_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Update cache index after setup — update_cache_index","title":"Update cache index after setup — update_cache_index","text":"Update cache index setup","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/update_cache_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update cache index after setup — update_cache_index","text":"","code":"update_cache_index(cache_dir, configs, datasets_updated)"},{"path":"https://bennettoxford.github.io/nhstt/reference/update_cache_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update cache index after setup — update_cache_index","text":"cache_dir Cache directory path configs Dataset configuration list datasets_updated Character vector dataset names updated","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/update_cache_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update cache index after setup — update_cache_index","text":"Invisible NULL","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate dataset — validate_dataset","title":"Validate dataset — validate_dataset","text":"Validate dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate dataset — validate_dataset","text":"","code":"validate_dataset(df, dataset_name = \"dataset\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate dataset — validate_dataset","text":"df Data frame validate dataset_name Name dataset error messages","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate dataset — validate_dataset","text":"Invisible TRUE valid","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_cache_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Write cache index to disk — write_cache_index","title":"Write cache index to disk — write_cache_index","text":"Write cache index disk","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_cache_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write cache index to disk — write_cache_index","text":"","code":"write_cache_index(index, cache_dir = get_cache_dir())"},{"path":"https://bennettoxford.github.io/nhstt/reference/write_cache_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write cache index to disk — write_cache_index","text":"index Cache index list cache_dir Cache directory","code":""}]
