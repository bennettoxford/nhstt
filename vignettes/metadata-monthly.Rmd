---
title: "Monthly measures"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{metadata-monthly}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

> **Note:** This package currently only provides metadata for the most recent monthly reporting period.

## Core measures

```{r get-core-measures, include = FALSE}
library(nhstt)
library(dplyr)
library(gt)

# Metadata for monthly core measures
metadata_monthly_core <- get_metadata_monthly() |> 
  filter(measure_type == "Core") |> 
  select(measure_id, description)
```

In total there are **`r length(unique(metadata_monthly_core$measure_id))`** monthly _core_ measures:

```{r tab-measures-monthly-core, echo=FALSE}

metadata_monthly_core |> 
  gt() |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = measure_id)
  ) |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = description)
  ) |> 
  cols_label(
    measure_id = "ID",
    description = "Description"
  )
```

## Employment Advisors (EA) measures


```{r get-ea-measures, include = FALSE}

# Metadata for monthly core measures
metadata_monthly_ea <- get_metadata_monthly() |> 
  filter(measure_type == "EA") |> 
  select(measure_id, description)
```

In total there are **`r length(unique(metadata_monthly_ea$measure_id))`** monthly _EA_ measures:

```{r tab-measures-monthly-ea, echo=FALSE}

metadata_monthly_ea |> 
  gt() |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = measure_id)
  ) |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = description)
  ) |> 
  cols_label(
    measure_id = "ID",
    description = "Description"
  )
```

# Long-term Conditions (LTC) measures

```{r get-ltc-measures, include = FALSE}

# Metadata for monthly core measures
metadata_monthly_ltc <- get_metadata_monthly() |> 
  filter(measure_type == "LTC") |> 
  select(measure_id, description)
```

In total there are **`r length(unique(metadata_monthly_ltc$measure_id))`** monthly _LTC_ measures:

```{r tab-measures-monthly-ltc, echo=FALSE}


metadata_monthly_ltc |> 
  gt() |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = measure_id)
  ) |> 
  tab_style(
    style = list(
      cell_text(align = "left", v_align = "top")
    ),
    locations = cells_body(columns = description)
  ) |> 
  cols_label(
    measure_id = "ID",
    description = "Description"
  )
```
