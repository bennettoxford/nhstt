[{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"project-structure--module-organization","dir":"","previous_headings":"","what":"Project Structure & Module Organization","title":"Repository Guidelines","text":"nhstt R data package providing tidy access NHS Talking Therapies reports. Core functions live R/, exported APIs governed via NAMESPACE, roxygen comments regenerate man/. Tests sit tests/testthat/ following test-{name}.R convention. Key directories: - inst/nhstt_data/raw_config.toml - Source URLs, formats, periods - R/tidy-config-*.R - Per-dataset transformation configs - tests/testthat/fixtures/schemas/ - Raw/tidy schema fixtures (5 rows, columns) - Cache: tools::R_user_dir(\"nhstt\", \"cache\") Update README.Rmd rather README.md; knitting produces public README.","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"build-test-and-development-commands","dir":"","previous_headings":"","what":"Build, Test, and Development Commands","title":"Repository Guidelines","text":"Always start R R --quiet --vanilla. Typical workflow: Critical: Tests must run 5 seconds. integration tests - fast unit tests using fixtures.","code":"R --quiet --vanilla -e \"devtools::load_all()\"    # Reload for interactive dev R --quiet --vanilla -e \"devtools::test()\"        # Run tests (must complete <5s) R --quiet --vanilla -e \"devtools::document()\"    # Regenerate docs R --quiet --vanilla -e \"styler::style_pkg()\"     # Format code R --quiet --vanilla -e \"pkgdown::build_site()\"   # Rebuild docs site"},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"coding-style--naming-conventions","dir":"","previous_headings":"","what":"Coding Style & Naming Conventions","title":"Repository Guidelines","text":"Use tidyverse style: 2-space indents, snake_case objects, sentence-case headings. Roxygen2 comments must precede exported function; run devtools::document() roxygen edit keep _pkgdown.yml sync. Use cli::cli_abort()/cli::cli_warn() UK English spelling.","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"architecture-overview","dir":"","previous_headings":"","what":"Architecture Overview","title":"Repository Guidelines","text":"Two separate config systems: - raw_config.toml - Source URLs, formats, periods, development flags - R/tidy-config-*.R - Transformation logic (filters, derivations, output) Pipeline flow: 1. Raw data acquisition: raw_config.toml → download_raw() → read_raw() → parquet/csv cache 2. Tidy transformation: tidy_config_*() → tidy_dataset() → prepare_tidy_data() → parquet cache 3. User access: get_*_annual() / get_*_monthly() → combined tidy tibble Config-driven design: New datasets require config additions, new pipeline code.","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"development-workflow","dir":"","previous_headings":"","what":"Development Workflow","title":"Repository Guidelines","text":"Use development = true flag raw_config.toml explore new periods exposing users: Behaviour: - list_available_periods() excludes development periods - get_*() functions error user requests development period - read_raw() works development periods via devtools::load_all()","code":"[[datasets.key_measures.annual.sources]] period = \"2025-26\" url = \"https://...\" development = true"},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"testing-guidelines","dir":"","previous_headings":"","what":"Testing Guidelines","title":"Repository Guidelines","text":"Critical: Tests must complete 5 seconds new code requires test tests/testthat/test-{name}.R Use fixtures (5 rows, columns) stored tests/testthat/fixtures/schemas/ Run devtools::test() devtools::test_file(\"tests/testthat/test-foo.R\") Tests must run offline - network calls Use load_raw_data() helper load fixtures tidy tests Add schema checks every dataset period Test organisation: - test-raw-config.R - Raw config validation source info - test-tidy-config.R - Tidy config validation tidy_dataset() tests - test-tidy-utils.R - Helper functions - test-cache.R - Cache management - test-raw.R - Raw data utilities","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"adding-a-new-dataset","dir":"","previous_headings":"","what":"Adding a New Dataset","title":"Repository Guidelines","text":"Add source raw_config.toml Create R/tidy-config-{dataset}.R config function Register tidy_config_registry (R/tidy-config.R) Create user-facing function R/tidy-annual.R R/tidy-monthly.R Create fixtures: tests/testthat/fixtures/schemas/{frequency}/{dataset}/raw/{period}.csv Add tests tests/testthat/test-tidy-config.R","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"adding-a-new-period","dir":"","previous_headings":"","what":"Adding a New Period","title":"Repository Guidelines","text":"Add source raw_config.toml development = true Explore via devtools::load_all() read_raw(\"dataset\", \"period\", \"frequency\") Add override R/tidy-config-{dataset}.R schema changed (period list name) Update fixtures needed Test remove development = true","code":""},{"path":"https://bennettoxford.github.io/nhstt/AGENTS.html","id":"commit--pull-request-guidelines","dir":"","previous_headings":"","what":"Commit & Pull Request Guidelines","title":"Repository Guidelines","text":"Write small, imperative commits (fix, Refactor, Run styler::style_pkg()). Bundle generated artefacts (man/, NAMESPACE, docs/) source changes. PRs describe affected NHS periods, reference issues, list commands run (styler, devtools::test(), R CMD check, pkgdown::check_pkgdown()). Include screenshots documentation pkgdown output changes.","code":""},{"path":"https://bennettoxford.github.io/nhstt/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 nhstt authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-activity-performance-monthly.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"How to use the monthly activity and performance data","text":"start loading R packages downloading monthly activity performance dataset get_activity_performance_monthly(). report contains monthly performance indicators NHS Talking Therapies services across England. activity_performance dataset defined contains total 217 different activity performance measures, available May 2023 September 2025 (29 reporting periods).","code":"# Load nhstt package for data library(nhstt)  # Load other packages for analysis library(ggplot2) library(lubridate) library(dplyr) library(scales) library(stringr) library(gt)  # Get all monthly activity performance reports activity_performance <- get_activity_performance_monthly()"},{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-activity-performance-monthly.html","id":"define-measures-related-to-referrals-that-ended","dir":"Articles","previous_headings":"Setup > Example 1: Explore changes in referrals that ended","what":"Define measures related to referrals that ended","title":"How to use the monthly activity and performance data","text":"Using get_metadata_monthly() function, can look descriptions measures:","code":"# Define measure ids for analysis referral_ended_measures <- c(   \"M057\", \"M058\", \"M059\", \"M060\", \"M061\", \"M066\", \"M340\", \"M062\",   \"M063\", \"M066\", \"M344\", \"M341\", \"M069\", \"M342\", \"M070\", \"M071\" )"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-activity-performance-monthly.html","id":"analysis","dir":"Articles","previous_headings":"Setup > Example 1: Explore changes in referrals that ended","what":"Analysis","title":"How to use the monthly activity and performance data","text":"filter data include measures defined referral_ended_measures select service providers: Now can visualise trends time broken codes referrals ended service provider. Note y-axis scales fixed allow better visualisation trends measures different count ranges. Trends counts different referrals ended measures.","code":"# Select data for analysis selected_activity_performance <- activity_performance |>   filter(measure_id %in% c(referral_ended_measures)) |>   filter(group_type == \"Provider\")"},{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-activity-performance-monthly.html","id":"define-measures","dir":"Articles","previous_headings":"Setup > Example 2: Explore wait times from referrral to first treatment","what":"Define measures","title":"How to use the monthly activity and performance data","text":"explore changes following measures related wait times referrral first treatment. Note measures related wait times available dataset.","code":"# Define measure ids for analysis first_tx_waited_measures <- c(   \"M039\", \"M040\", \"M041\", \"M042\", \"M043\", \"M044\", \"M045\" )"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-activity-performance-monthly.html","id":"analysis-1","dir":"Articles","previous_headings":"Setup > Example 2: Explore wait times from referrral to first treatment","what":"Analysis","title":"How to use the monthly activity and performance data","text":"filter data include measures defined first_tx_waited_measures select service providers: Now can visualise trends time broken different waiting time periods referral first treatment, one line service provider. Trends counts different waiting time periods referral first treatment service.","code":"# Select data for analysis selected_activity_performance <- activity_performance |>   filter(measure_id %in% c(first_tx_waited_measures)) |>   filter(group_type == \"Provider\")"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures-annual.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"How to use the annual key measures data","text":"start loading necessary packages downloading annual key measures dataset get_key_measures_annual(). report contains annual performance indicators NHS Talking Therapies services across England.","code":"# Load packages library(nhstt) library(ggplot2) library(dplyr) library(scales) library(stringr)  # Get key_measures data # When running this for the first time it will download and tidy the reports key_measures <- get_key_measures_annual(   periods = c(\"2020-21\", \"2021-22\", \"2022-23\", \"2023-24\", \"2024-25\") )"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures-annual.html","id":"select-data-for-analysis","dir":"Articles","previous_headings":"","what":"Select data for analysis","title":"How to use the annual key measures data","text":"filter data focus received referrals finished treatments regional level. step requires careful exploration underlying data structure.","code":"# Select data for analysis selected_measures <- key_measures |>   filter(org_type == \"Commissioning Region\") |>   filter(!org_name == \"UNKNOWN\") |>   filter(     measure_name %in% c(\"referrals_received\", \"finished_course_treatment\")   ) |>   filter(measure_statistic == \"count\") |>   filter(variable_a == \"Depression\") |>   select(     start_date,     end_date,     org_name,     variable_a,     measure_statistic,     measure_name,     value   )  # Tidy data for analysis selected_measures <- selected_measures |>   mutate(     org_name = str_to_title(str_remove(org_name, \"\\\\s*COMMISSIONING REGION$\")),     org_name = str_replace_all(org_name, \"\\\\b(Of|And)\\\\b\", tolower),     measure_name = factor(       measure_name,       levels = c(\"referrals_received\", \"finished_course_treatment\"),       labels = c(\"Referrals received\", \"Finished course of treatment\")     )   ) |>   filter(end_date > \"2020-03-31\")"},{"path":"https://bennettoxford.github.io/nhstt/articles/how-to-key-measures-annual.html","id":"create-figure","dir":"Articles","previous_headings":"","what":"Create figure","title":"How to use the annual key measures data","text":"Finally, visualise trends time region. Trends counts referrals received finished course treatment depression broken region.","code":""},{"path":[]},{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Milan Wiedemann. Author, maintainer. Wellcome Trust. Funder.","code":""},{"path":"https://bennettoxford.github.io/nhstt/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wiedemann M (2025). nhstt: NHS Talking Therapies anxiety depression reports R. R package version 0.2.0, https://github.com/bennettoxford/nhstt.","code":"@Manual{,   title = {nhstt: NHS Talking Therapies for anxiety and depression reports in R},   author = {Milan Wiedemann},   year = {2025},   note = {R package version 0.2.0},   url = {https://github.com/bennettoxford/nhstt}, }"},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"nhstt","dir":"","previous_headings":"","what":"NHS Talking Therapies for anxiety and depression reports in R","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"package active development. Breaking changes likely. nhstt provides access publicly available NHS Talking Therapies reports tidy data format.","code":""},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"Install development version GitHub:","code":"# install.packages(\"pak\") pak::pak(\"bennettoxford/nhstt\")"},{"path":"https://bennettoxford.github.io/nhstt/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"NHS Talking Therapies for anxiety and depression reports in R","text":"","code":"library(nhstt)  # Load annual key measures dataset for financial year 2024-25 km_annual <- get_key_measures_annual(periods = \"2024-25\")  # Load all monthly activity performance datasets # Note, this will take a few minutes ap_monthly <- get_activity_performance_monthly()"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Add period date columns — add_period_columns","title":"Add period date columns — add_period_columns","text":"Detects period format (annual \"2023-24\" monthly \"2025-09\") adds appropriate start_date end_date columns","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add period date columns — add_period_columns","text":"","code":"add_period_columns(df)"},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add period date columns — add_period_columns","text":"df Tibble, specifying data reporting_period column","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/add_period_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add period date columns — add_period_columns","text":"Tibble start_date end_date columns","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_mutate.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply column mutations from configuration — apply_mutate","title":"Apply column mutations from configuration — apply_mutate","text":"Creates new columns existing data (like dplyr::mutate)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_mutate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply column mutations from configuration — apply_mutate","text":"","code":"apply_mutate(df, mutate_config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_mutate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply column mutations from configuration — apply_mutate","text":"df Tibble, specifying data transform mutate_config List, specifying column creation rules","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_mutate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply column mutations from configuration — apply_mutate","text":"Tibble new columns added","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_separate.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply column separation from configuration — apply_separate","title":"Apply column separation from configuration — apply_separate","text":"Splits columns multiple columns based regex patterns (like tidyr::separate)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_separate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply column separation from configuration — apply_separate","text":"","code":"apply_separate(df, separate_config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_separate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply column separation from configuration — apply_separate","text":"df Tibble, specifying data transform separate_config List, specifying column separation rules","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/apply_separate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply column separation from configuration — apply_separate","text":"Tibble separated columns added","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/available_nhstt_reports.html","id":null,"dir":"Reference","previous_headings":"","what":"List available NHS Talking Therapies reports — available_nhstt_reports","title":"List available NHS Talking Therapies reports — available_nhstt_reports","text":"Returns tibble information available datasets including time period coverage frequency","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/available_nhstt_reports.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available NHS Talking Therapies reports — available_nhstt_reports","text":"","code":"available_nhstt_reports()"},{"path":"https://bennettoxford.github.io/nhstt/reference/available_nhstt_reports.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available NHS Talking Therapies reports — available_nhstt_reports","text":"Tibble dataset frequency information (one row per dataset-frequency combination)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/available_nhstt_reports.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available NHS Talking Therapies reports — available_nhstt_reports","text":"","code":"available_nhstt_reports() #> # A tibble: 7 × 8 #>   dataset        frequency title get_function first_period last_period n_periods #>   <chr>          <chr>     <chr> <chr>        <chr>        <chr>           <int> #> 1 activity_perf… monthly   Acti… get_activit… 2023-05      2025-09            29 #> 2 key_measures   annual    Key … get_key_mea… 2017-18      2024-25             8 #> 3 metadata       monthly   Mont… get_metadat… 2025-07      2025-07             1 #> 4 metadata_meas… annual    Annu… get_metadat… 2024-25      2024-25             1 #> 5 metadata_meas… annual    Annu… get_metadat… 2024-25      2024-25             1 #> 6 metadata_vari… annual    Annu… get_metadat… 2024-25      2024-25             1 #> 7 metadata_vari… annual    Annu… get_metadat… 2024-25      2024-25             1 #> # ℹ 1 more variable: version <chr>"},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Display cache information — cache_info","title":"Display cache information — cache_info","text":"Shows information nhstt cache, including: Cache directory location Size count raw annual monthly downloads Size tidy annual monthly data Total cache size","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display cache information — cache_info","text":"","code":"cache_info(max_size_mb = 1000)"},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display cache information — cache_info","text":"max_size_mb Numeric, specifying maximum recommended cache size MB. Default 1000","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display cache information — cache_info","text":"Invisibly returns list cache information","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Display cache information — cache_info","text":"Raw data stored parquet format efficient compression. Warns cache exceeds recommended size limit (default 1000 MB).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/cache_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display cache information — cache_info","text":"","code":"if (FALSE) { # \\dontrun{ # Display cache information cache_info()  # Check with different size limit cache_info(max_size_mb = 500) } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/calculate_data_hash.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate SHA256 hash of data — calculate_data_hash","title":"Calculate SHA256 hash of data — calculate_data_hash","text":"Calculate SHA256 hash data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/calculate_data_hash.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate SHA256 hash of data — calculate_data_hash","text":"","code":"calculate_data_hash(data)"},{"path":"https://bennettoxford.github.io/nhstt/reference/calculate_data_hash.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate SHA256 hash of data — calculate_data_hash","text":"data Data frame tibble, containing data hash","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/calculate_data_hash.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate SHA256 hash of data — calculate_data_hash","text":"Character hash","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_column_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean column values with make_clean_str — clean_column_values","title":"Clean column values with make_clean_str — clean_column_values","text":"Applies make_clean_str values specified columns","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_column_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean column values with make_clean_str — clean_column_values","text":"","code":"clean_column_values(df, column_names = NULL)"},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_column_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean column values with make_clean_str — clean_column_values","text":"df Tibble, specifying data columns clean column_names Character vector, specifying column names clean (e.g., c(\"measure\", \"statistic\"))","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clean_column_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean column values with make_clean_str — clean_column_values","text":"Tibble cleaned column values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear cache — clear_cache","title":"Clear cache — clear_cache","text":"Removes cached data files. default clears cache. clearing \"\" cache, also removes initialization marker, trigger welcome message next package load.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear cache — clear_cache","text":"","code":"clear_cache(type = \"all\")"},{"path":"https://bennettoxford.github.io/nhstt/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear cache — clear_cache","text":"type Character, specifying cache type clear (\"\", \"raw\", \"tidy\"). Default \"\".","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear cache — clear_cache","text":"Invisible TRUE","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cache clear_cache()  # Clear only raw data cache clear_cache(type = \"raw\")  # Clear only tidy data cache clear_cache(type = \"tidy\") } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/convert_to_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy dataset values — convert_to_numeric","title":"Tidy dataset values — convert_to_numeric","text":"Converts NULL NA coerces measure columns numeric","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/convert_to_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy dataset values — convert_to_numeric","text":"","code":"convert_to_numeric(df, measure_cols)"},{"path":"https://bennettoxford.github.io/nhstt/reference/convert_to_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy dataset values — convert_to_numeric","text":"df Tibble, specifying data tidy measure_cols Character vector, specifying measure column names","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/convert_to_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy dataset values — convert_to_numeric","text":"Tibble tidy values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/dot-onAttach.html","id":null,"dir":"Reference","previous_headings":"","what":"Package attach hook — .onAttach","title":"Package attach hook — .onAttach","text":"Silently sets package first load, shows message initialization fails","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/dot-onAttach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Package attach hook — .onAttach","text":"","code":".onAttach(libname, pkgname)"},{"path":"https://bennettoxford.github.io/nhstt/reference/dot-onAttach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Package attach hook — .onAttach","text":"libname Library name pkgname Package name","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_and_store.html","id":null,"dir":"Reference","previous_headings":"","what":"Download, parse, and store raw data — download_and_store","title":"Download, parse, and store raw data — download_and_store","text":"Download, parse, store raw data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_and_store.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download, parse, and store raw data — download_and_store","text":"","code":"download_and_store(   dataset,   period,   frequency,   url,   source_format,   file_path,   csv_pattern = NULL,   sheet = NULL,   range = NULL )"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_and_store.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download, parse, and store raw data — download_and_store","text":"dataset Character, dataset name period Character, reporting period frequency Character, \"annual\" \"monthly\" url Character, source URL source_format Character, source format (\"csv\", \"zip\", \"rar\", \"xlsx\") file_path Character, destination path csv_pattern Character, regex locate CSV inside archive (optional) sheet Character, sheet name index Excel sources (required Excel sources) range Character, Excel cell range (e.g., \"A5:H427\") Excel sources (optional)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_and_store.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download, parse, and store raw data — download_and_store","text":"Character path cached file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and cache raw data — download_raw","title":"Download and cache raw data — download_raw","text":"Download cache raw data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and cache raw data — download_raw","text":"","code":"download_raw(dataset, period, frequency, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and cache raw data — download_raw","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") use_cache Logical, specifying whether use cached data available. Default TRUE","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and cache raw data — download_raw","text":"Character path cached file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"Download data from URL with retry logic — download_with_retry","title":"Download data from URL with retry logic — download_with_retry","text":"Download data URL retry logic","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download data from URL with retry logic — download_with_retry","text":"","code":"download_with_retry(url, file)"},{"path":"https://bennettoxford.github.io/nhstt/reference/download_with_retry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download data from URL with retry logic — download_with_retry","text":"url Character, specifying URL download file Character, specifying destination file path","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/extract_csv_from_archive.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract CSV from archive using pattern matching — extract_csv_from_archive","title":"Extract CSV from archive using pattern matching — extract_csv_from_archive","text":"Extract CSV archive using pattern matching","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/extract_csv_from_archive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract CSV from archive using pattern matching — extract_csv_from_archive","text":"","code":"extract_csv_from_archive(archive_path, csv_pattern)"},{"path":"https://bennettoxford.github.io/nhstt/reference/extract_csv_from_archive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract CSV from archive using pattern matching — extract_csv_from_archive","text":"archive_path Character, specifying path zip/rar archive csv_pattern Character, specifying regex pattern match CSV filename","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/extract_csv_from_archive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract CSV from archive using pattern matching — extract_csv_from_archive","text":"Tibble raw data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/filter_rows.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter rows — filter_rows","title":"Filter rows — filter_rows","text":"Filters rows based configuration","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/filter_rows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter rows — filter_rows","text":"","code":"filter_rows(df, filter_config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/filter_rows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter rows — filter_rows","text":"df Tibble, specifying data filter filter_config Named list, specifying filter values (e.g., list(org_type = c(\"Provider\")))","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/filter_rows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter rows — filter_rows","text":"Filtered tibble","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":null,"dir":"Reference","previous_headings":"","what":"Get monthly activity and performance measures — get_activity_performance_monthly","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"Get monthly activity performance indicators organisation.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"","code":"get_activity_performance_monthly(periods = NULL, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"periods Character vector, specifying periods (e.g., \"2025-09\", \"2025-08\"). NULL (default), returns available monthly periods use_cache Logical, specifying whether use cached data available. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"Tibble activity performance data long format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"Raw data automatically stored parquet format efficient compression.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_activity_performance_monthly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get monthly activity and performance measures — get_activity_performance_monthly","text":"","code":"if (FALSE) { # \\dontrun{ # Get all monthly periods activity_df <- get_activity_performance_monthly()  # Get specific monthly periods activity_df <- get_activity_performance_monthly(periods = c(\"2025-09\", \"2025-08\"))  # Bypass cache to use latest tidying logic activity_df <- get_activity_performance_monthly(periods = \"2025-09\", use_cache = FALSE) } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Get cache directory path","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Character path cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dataset version — get_dataset_version","title":"Get dataset version — get_dataset_version","text":"Get dataset version","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dataset version — get_dataset_version","text":"","code":"get_dataset_version(dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dataset version — get_dataset_version","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_dataset_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dataset version — get_dataset_version","text":"Character version string","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":null,"dir":"Reference","previous_headings":"","what":"Get annual key performance measures — get_key_measures_annual","title":"Get annual key performance measures — get_key_measures_annual","text":"Get annual key performance measures including referrals, assessments, treatment completions, recovery rates, waiting times organisation","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get annual key performance measures — get_key_measures_annual","text":"","code":"get_key_measures_annual(periods = NULL, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get annual key performance measures — get_key_measures_annual","text":"periods Character vector, specifying periods (e.g., \"2023-24\", \"2024-25\"). NULL (default), returns available annual periods use_cache Logical, specifying whether use cached data available. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get annual key performance measures — get_key_measures_annual","text":"Tibble key measures data long format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get annual key performance measures — get_key_measures_annual","text":"Raw data automatically stored parquet format efficient compression.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_key_measures_annual.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get annual key performance measures — get_key_measures_annual","text":"","code":"if (FALSE) { # \\dontrun{ # Get all annual periods key_measures_df <- get_key_measures_annual()  # Get specific annual periods key_measures_df <- get_key_measures_annual(periods = c(\"2023-24\", \"2024-25\"))  # Bypass cache to use latest tidying logic key_measures_df <- get_key_measures_annual(periods = \"2023-24\", use_cache = FALSE) } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_measures_annual.html","id":null,"dir":"Reference","previous_headings":"","what":"Get annual metadata for data measures — get_metadata_measures_annual","title":"Get annual metadata for data measures — get_metadata_measures_annual","text":"Combines \"Data measures (main)\" \"Data measures (additional)\" sheets released alongside annual NHS Talking Therapies reports.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_measures_annual.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get annual metadata for data measures — get_metadata_measures_annual","text":"","code":"get_metadata_measures_annual(periods = NULL, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_measures_annual.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get annual metadata for data measures — get_metadata_measures_annual","text":"periods Character vector, specifying periods (e.g., \"2023-24\", \"2024-25\"). NULL (default), returns available annual periods use_cache Logical, specifying whether use cached data available. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_measures_annual.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get annual metadata for data measures — get_metadata_measures_annual","text":"Tibble containing metadata rows annual measure field","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_measures_annual.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get annual metadata for data measures — get_metadata_measures_annual","text":"","code":"if (FALSE) { # \\dontrun{ measures_meta <- get_metadata_measures_annual() } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":null,"dir":"Reference","previous_headings":"","what":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"Retrieves definitions, derivations, construction notes reported measure.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"","code":"get_metadata_monthly(periods = NULL, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"periods Character vector, specifying periods (e.g., \"2025-09\", \"2025-08\"). NULL (default), returns available monthly periods use_cache Logical, specifying whether use cached data available. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"Tibble metadata measure","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"Raw data stored parquet format efficient compression.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_monthly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get monthly metadata for NHS Talking Therapies measures — get_metadata_monthly","text":"","code":"if (FALSE) { # \\dontrun{ metadata <- get_metadata_monthly() } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_variables_annual.html","id":null,"dir":"Reference","previous_headings":"","what":"Get annual metadata for variable derivations — get_metadata_variables_annual","title":"Get annual metadata for variable derivations — get_metadata_variables_annual","text":"Combines \"Variables (main)\" \"Variables (additional)\" sheets released alongside annual NHS Talking Therapies reports.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_variables_annual.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get annual metadata for variable derivations — get_metadata_variables_annual","text":"","code":"get_metadata_variables_annual(periods = NULL, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_variables_annual.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get annual metadata for variable derivations — get_metadata_variables_annual","text":"periods Character vector, specifying periods (e.g., \"2023-24\", \"2024-25\"). NULL (default), returns available annual periods use_cache Logical, specifying whether use cached data available. Default TRUE.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_variables_annual.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get annual metadata for variable derivations — get_metadata_variables_annual","text":"Tibble containing metadata rows annual variable definition","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_metadata_variables_annual.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get annual metadata for variable derivations — get_metadata_variables_annual","text":"","code":"if (FALSE) { # \\dontrun{ variables_meta <- get_metadata_variables_annual() } # }"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw data cache directory — get_raw_cache_dir","title":"Get raw data cache directory — get_raw_cache_dir","text":"Get raw data cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw data cache directory — get_raw_cache_dir","text":"","code":"get_raw_cache_dir(frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw data cache directory — get_raw_cache_dir","text":"frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw data cache directory — get_raw_cache_dir","text":"Character path raw data directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw data cache path — get_raw_cache_path","title":"Get raw data cache path — get_raw_cache_path","text":"Get raw data cache path","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw data cache path — get_raw_cache_path","text":"","code":"get_raw_cache_path(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw data cache path — get_raw_cache_path","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw data cache path — get_raw_cache_path","text":"Character path raw data file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_downloads_json_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw downloads metadata file path — get_raw_downloads_json_path","title":"Get raw downloads metadata file path — get_raw_downloads_json_path","text":"Returns path JSON file stores download metadata raw data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_downloads_json_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw downloads metadata file path — get_raw_downloads_json_path","text":"","code":"get_raw_downloads_json_path(frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_downloads_json_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw downloads metadata file path — get_raw_downloads_json_path","text":"frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_raw_downloads_json_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw downloads metadata file path — get_raw_downloads_json_path","text":"Character path .downloads.json file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get source configuration for a dataset period — get_source_config","title":"Get source configuration for a dataset period — get_source_config","text":"Get source configuration dataset period","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get source configuration for a dataset period — get_source_config","text":"","code":"get_source_config(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get source configuration for a dataset period — get_source_config","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_source_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get source configuration for a dataset period — get_source_config","text":"List url, format, csv_pattern","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tidy data cache directory for a dataset — get_tidy_cache_dir","title":"Get tidy data cache directory for a dataset — get_tidy_cache_dir","text":"Get tidy data cache directory dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tidy data cache directory for a dataset — get_tidy_cache_dir","text":"","code":"get_tidy_cache_dir(dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tidy data cache directory for a dataset — get_tidy_cache_dir","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get tidy data cache directory for a dataset — get_tidy_cache_dir","text":"Character path tidy cache directory","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get versioned tidy cache path — get_tidy_cache_path","title":"Get versioned tidy cache path — get_tidy_cache_path","text":"Get versioned tidy cache path","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get versioned tidy cache path — get_tidy_cache_path","text":"","code":"get_tidy_cache_path(dataset, period, frequency, dataset_version = NULL)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get versioned tidy cache path — get_tidy_cache_path","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") dataset_version Character, specifying dataset version (e.g., \"1.0.0\"). Default NULL","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get versioned tidy cache path — get_tidy_cache_path","text":"Character path cached Parquet file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve tidy configuration for a dataset/frequency combination — get_tidy_config","title":"Retrieve tidy configuration for a dataset/frequency combination — get_tidy_config","text":"Retrieve tidy configuration dataset/frequency combination","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve tidy configuration for a dataset/frequency combination — get_tidy_config","text":"","code":"get_tidy_config(dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve tidy configuration for a dataset/frequency combination — get_tidy_config","text":"dataset Character, dataset name (e.g., \"key_measures\") frequency Character, \"annual\" \"monthly\"","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve tidy configuration for a dataset/frequency combination — get_tidy_config","text":"Named list configuration values","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_versions_json_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dataset version metadata file path — get_tidy_versions_json_path","title":"Get dataset version metadata file path — get_tidy_versions_json_path","text":"Returns path JSON file stores version metadata dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_versions_json_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dataset version metadata file path — get_tidy_versions_json_path","text":"","code":"get_tidy_versions_json_path(dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_versions_json_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dataset version metadata file path — get_tidy_versions_json_path","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/get_tidy_versions_json_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dataset version metadata file path — get_tidy_versions_json_path","text":"Character path .versions.json file","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_financial_year_period.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine if a reporting period represents a financial year — is_financial_year_period","title":"Determine if a reporting period represents a financial year — is_financial_year_period","text":"Accepts legacy \"FY2023-24\" codes new \"2023-24\" format. Values ending 13-31 treated financial years","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_financial_year_period.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine if a reporting period represents a financial year — is_financial_year_period","text":"","code":"is_financial_year_period(period)"},{"path":"https://bennettoxford.github.io/nhstt/reference/is_financial_year_period.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine if a reporting period represents a financial year — is_financial_year_period","text":"period Character, specifying period check (e.g., \"2023-24\" \"FY2023-24\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/is_financial_year_period.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine if a reporting period represents a financial year — is_financial_year_period","text":"Logical","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/list_available_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"List available periods for a dataset and frequency — list_available_periods","title":"List available periods for a dataset and frequency — list_available_periods","text":"List available periods dataset frequency","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/list_available_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available periods for a dataset and frequency — list_available_periods","text":"","code":"list_available_periods(dataset, frequency, include_development = FALSE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/list_available_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available periods for a dataset and frequency — list_available_periods","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\") include_development Logical, specifying whether include periods marked development = true. Default FALSE","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/list_available_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available periods for a dataset and frequency — list_available_periods","text":"Character vector available periods","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_combined_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to load and combine main and additional metadata sheets — load_combined_metadata","title":"Helper to load and combine main and additional metadata sheets — load_combined_metadata","text":"Helper load combine main additional metadata sheets","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_combined_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to load and combine main and additional metadata sheets — load_combined_metadata","text":"","code":"load_combined_metadata(dataset_base, period, frequency, use_cache)"},{"path":"https://bennettoxford.github.io/nhstt/reference/load_combined_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to load and combine main and additional metadata sheets — load_combined_metadata","text":"dataset_base Base name (\"metadata_measures\" \"metadata_variables\") period Reporting period frequency Frequency (\"annual\") use_cache Whether use cache","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_combined_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to load and combine main and additional metadata sheets — load_combined_metadata","text":"Combined tibble","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_raw_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Load raw data configuration from TOML — load_raw_config","title":"Load raw data configuration from TOML — load_raw_config","text":"Load raw data configuration TOML","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_raw_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load raw data configuration from TOML — load_raw_config","text":"","code":"load_raw_config()"},{"path":"https://bennettoxford.github.io/nhstt/reference/load_raw_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load raw data configuration from TOML — load_raw_config","text":"List containing parsed raw data configuration","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Load tidy data from Parquet cache — load_tidy_cache","title":"Load tidy data from Parquet cache — load_tidy_cache","text":"Load tidy data Parquet cache","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load tidy data from Parquet cache — load_tidy_cache","text":"","code":"load_tidy_cache(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load tidy data from Parquet cache — load_tidy_cache","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load tidy data from Parquet cache — load_tidy_cache","text":"Tibble","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Load all tidy configurations — load_tidy_config","title":"Load all tidy configurations — load_tidy_config","text":"Load tidy configurations","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load all tidy configurations — load_tidy_config","text":"","code":"load_tidy_config()"},{"path":"https://bennettoxford.github.io/nhstt/reference/load_tidy_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load all tidy configurations — load_tidy_config","text":"List containing tidy configurations","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/make_clean_str.html","id":null,"dir":"Reference","previous_headings":"","what":"Make clean strings — make_clean_str","title":"Make clean strings — make_clean_str","text":"Make clean strings","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/make_clean_str.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make clean strings — make_clean_str","text":"","code":"make_clean_str(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/make_clean_str.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make clean strings — make_clean_str","text":"x Character, specifying string clean (e.g., \"CamelCase\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/make_clean_str.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make clean strings — make_clean_str","text":"Clean string","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse annual period bounds — parse_annual_period_bounds","title":"Parse annual period bounds — parse_annual_period_bounds","text":"Converts financial year code start/end dates","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse annual period bounds — parse_annual_period_bounds","text":"","code":"parse_annual_period_bounds(period)"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse annual period bounds — parse_annual_period_bounds","text":"period Character, specifying financial year (e.g., \"2023-24\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_annual_period_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse annual period bounds — parse_annual_period_bounds","text":"List start end dates","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_monthly_period_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse monthly period bounds — parse_monthly_period_bounds","title":"Parse monthly period bounds — parse_monthly_period_bounds","text":"Converts ISO year-month format start/end dates month","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_monthly_period_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse monthly period bounds — parse_monthly_period_bounds","text":"","code":"parse_monthly_period_bounds(period)"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_monthly_period_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse monthly period bounds — parse_monthly_period_bounds","text":"period Character, specifying monthly period (e.g., \"2025-09\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_monthly_period_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse monthly period bounds — parse_monthly_period_bounds","text":"List start end dates","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_reporting_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse reporting period date strings — parse_reporting_date","title":"Parse reporting period date strings — parse_reporting_date","text":"Handles ISO (YYYY-MM-DD) UK-style (DD/MM/YYYY) formats","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_reporting_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse reporting period date strings — parse_reporting_date","text":"","code":"parse_reporting_date(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_reporting_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse reporting period date strings — parse_reporting_date","text":"x Character vector Date, specifying dates parse (e.g., \"2023-04-01\" \"01/04/2023\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/parse_reporting_date.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse reporting period date strings — parse_reporting_date","text":"Date vector","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_longer_measures.html","id":null,"dir":"Reference","previous_headings":"","what":"Pivot measures to long format — pivot_longer_measures","title":"Pivot measures to long format — pivot_longer_measures","text":"Pivot measures long format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_longer_measures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pivot measures to long format — pivot_longer_measures","text":"","code":"pivot_longer_measures(data_list, pivot_config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_longer_measures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pivot measures to long format — pivot_longer_measures","text":"data_list Named list, specifying tibbles (e.g., list(\"2023-24\" = df1, \"2024-25\" = df2)) pivot_config List, specifying pivot configuration elements: id_cols: Character vector, ID columns preserve measure_cols: Character vector, measure columns pivot sep: Character, regex pattern separate measure names : Character vector, output column names separated parts","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/pivot_longer_measures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pivot measures to long format — pivot_longer_measures","text":"Tibble long format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/prepare_tidy_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare tidy data for any dataset (generic internal function) — prepare_tidy_data","title":"Prepare tidy data for any dataset (generic internal function) — prepare_tidy_data","text":"Orchestrates complete tidy pipeline: read raw → tidy → cache. replaces dataset-specific fetch_and_tidy_* functions.","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/prepare_tidy_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare tidy data for any dataset (generic internal function) — prepare_tidy_data","text":"","code":"prepare_tidy_data(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/prepare_tidy_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare tidy data for any dataset (generic internal function) — prepare_tidy_data","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/prepare_tidy_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare tidy data for any dataset (generic internal function) — prepare_tidy_data","text":"Tibble tidy data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/raw_cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if raw data exists — raw_cache_exists","title":"Check if raw data exists — raw_cache_exists","text":"Check raw data exists","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/raw_cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if raw data exists — raw_cache_exists","text":"","code":"raw_cache_exists(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/raw_cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if raw data exists — raw_cache_exists","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/raw_cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if raw data exists — raw_cache_exists","text":"Logical","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Read raw dataset from cache — read_raw","title":"Read raw dataset from cache — read_raw","text":"Downloads (needed) reads single raw dataset file memory. data stored parquet files (archives extracted download).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read raw dataset from cache — read_raw","text":"","code":"read_raw(dataset, period, frequency, use_cache = TRUE)"},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read raw dataset from cache — read_raw","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") use_cache Logical, specifying whether use cached data available. Default TRUE","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read raw dataset from cache — read_raw","text":"Tibble raw data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw_downloads_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Read raw downloads metadata — read_raw_downloads_json","title":"Read raw downloads metadata — read_raw_downloads_json","text":"Read raw downloads metadata","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw_downloads_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read raw downloads metadata — read_raw_downloads_json","text":"","code":"read_raw_downloads_json(frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw_downloads_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read raw downloads metadata — read_raw_downloads_json","text":"frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/read_raw_downloads_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read raw downloads metadata — read_raw_downloads_json","text":"List download metadata, empty list file exist","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/rename_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename columns — rename_columns","title":"Rename columns — rename_columns","text":"Renames columns using mapping (year-specific inconsistencies)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/rename_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename columns — rename_columns","text":"","code":"rename_columns(df, rename_mapping)"},{"path":"https://bennettoxford.github.io/nhstt/reference/rename_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename columns — rename_columns","text":"df Tibble, specifying data columns rename rename_mapping Named character vector, specifying old_name = new_name mapping","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/rename_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename columns — rename_columns","text":"Tibble renamed columns","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_cache_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cache file exists — resolve_cache_file","title":"Check if cache file exists — resolve_cache_file","text":"Check cache file exists","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_cache_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cache file exists — resolve_cache_file","text":"","code":"resolve_cache_file(file_path, use_cache)"},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_cache_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cache file exists — resolve_cache_file","text":"file_path Character, path cache file use_cache Logical, whether use cached data present","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_cache_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cache file exists — resolve_cache_file","text":"Character path cache exists used, NULL otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve periods argument — resolve_periods","title":"Resolve periods argument — resolve_periods","text":"Resolve periods argument","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve periods argument — resolve_periods","text":"","code":"resolve_periods(periods, dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve periods argument — resolve_periods","text":"periods Character vector NULL, specifying periods (e.g., c(\"2023-24\", \"2024-25\") annual, c(\"2025-08\", \"2025-09\") monthly). Default NULL returns periods dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/resolve_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve periods argument — resolve_periods","text":"Character vector validated periods","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if tidy cache exists — tidy_cache_exists","title":"Check if tidy cache exists — tidy_cache_exists","text":"Check tidy cache exists","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if tidy cache exists — tidy_cache_exists","text":"","code":"tidy_cache_exists(dataset, period, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if tidy cache exists — tidy_cache_exists","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if tidy cache exists — tidy_cache_exists","text":"Logical","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_activity_performance.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for activity performance dataset — tidy_config_activity_performance","title":"Tidy configuration for activity performance dataset — tidy_config_activity_performance","text":"Tidy configuration activity performance dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_activity_performance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for activity performance dataset — tidy_config_activity_performance","text":"","code":"tidy_config_activity_performance()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_activity_performance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for activity performance dataset — tidy_config_activity_performance","text":"List containing tidy configuration activity_performance dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_key_measures.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for key measures dataset — tidy_config_key_measures","title":"Tidy configuration for key measures dataset — tidy_config_key_measures","text":"Tidy configuration key measures dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_key_measures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for key measures dataset — tidy_config_key_measures","text":"","code":"tidy_config_key_measures()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_key_measures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for key measures dataset — tidy_config_key_measures","text":"List containing tidy configuration key_measures dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for metadata dataset — tidy_config_metadata","title":"Tidy configuration for metadata dataset — tidy_config_metadata","text":"Tidy configuration metadata dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for metadata dataset — tidy_config_metadata","text":"","code":"tidy_config_metadata()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for metadata dataset — tidy_config_metadata","text":"List containing tidy configuration metadata dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_additional.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for annual metadata measures (additional) — tidy_config_metadata_measures_additional","title":"Tidy configuration for annual metadata measures (additional) — tidy_config_metadata_measures_additional","text":"Tidy configuration annual metadata measures (additional)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_additional.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for annual metadata measures (additional) — tidy_config_metadata_measures_additional","text":"","code":"tidy_config_metadata_measures_additional()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_additional.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for annual metadata measures (additional) — tidy_config_metadata_measures_additional","text":"List containing tidy configuration metadata_measures_additional dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_main.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for annual metadata measures (main) — tidy_config_metadata_measures_main","title":"Tidy configuration for annual metadata measures (main) — tidy_config_metadata_measures_main","text":"Tidy configuration annual metadata measures (main)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_main.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for annual metadata measures (main) — tidy_config_metadata_measures_main","text":"","code":"tidy_config_metadata_measures_main()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_measures_main.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for annual metadata measures (main) — tidy_config_metadata_measures_main","text":"List containing tidy configuration metadata_measures_main dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_additional.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for annual metadata variables (additional) — tidy_config_metadata_variables_additional","title":"Tidy configuration for annual metadata variables (additional) — tidy_config_metadata_variables_additional","text":"Tidy configuration annual metadata variables (additional)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_additional.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for annual metadata variables (additional) — tidy_config_metadata_variables_additional","text":"","code":"tidy_config_metadata_variables_additional()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_additional.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for annual metadata variables (additional) — tidy_config_metadata_variables_additional","text":"List containing tidy configuration metadata_variables_additional dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_main.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy configuration for annual metadata variables (main) — tidy_config_metadata_variables_main","title":"Tidy configuration for annual metadata variables (main) — tidy_config_metadata_variables_main","text":"Tidy configuration annual metadata variables (main)","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_main.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy configuration for annual metadata variables (main) — tidy_config_metadata_variables_main","text":"","code":"tidy_config_metadata_variables_main()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_metadata_variables_main.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy configuration for annual metadata variables (main) — tidy_config_metadata_variables_main","text":"List containing tidy configuration metadata_variables_main dataset","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_registry.html","id":null,"dir":"Reference","previous_headings":"","what":"Registry of tidy configuration functions — tidy_config_registry","title":"Registry of tidy configuration functions — tidy_config_registry","text":"Registry tidy configuration functions","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_registry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Registry of tidy configuration functions — tidy_config_registry","text":"","code":"tidy_config_registry()"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_config_registry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Registry of tidy configuration functions — tidy_config_registry","text":"Named list tidy configuration functions","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic tidy pipeline for all datasets — tidy_dataset","title":"Generic tidy pipeline for all datasets — tidy_dataset","text":"Applies configuration-driven transformations convert raw data tidy format. Supports wide--long pivoting (key_measures) long-format data (activity_performance).","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic tidy pipeline for all datasets — tidy_dataset","text":"","code":"tidy_dataset(raw_data_list, dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic tidy pipeline for all datasets — tidy_dataset","text":"raw_data_list Named list, specifying raw tibbles (e.g., list(\"2023-24\" = df)) dataset Character, specifying dataset name (e.g., \"key_measures\") frequency Character, specifying frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic tidy pipeline for all datasets — tidy_dataset","text":"Tibble tidy long format","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_numeric_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy numeric values — tidy_numeric_values","title":"Tidy numeric values — tidy_numeric_values","text":"Converts NHS suppression markers NA","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_numeric_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy numeric values — tidy_numeric_values","text":"","code":"tidy_numeric_values(x)"},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_numeric_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy numeric values — tidy_numeric_values","text":"x Character numeric vector, specifying values tidy","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/tidy_numeric_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy numeric values — tidy_numeric_values","text":"Numeric vector suppression markers NA","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate dataset name — validate_dataset","title":"Validate dataset name — validate_dataset","text":"Validate dataset name","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate dataset name — validate_dataset","text":"","code":"validate_dataset(dataset)"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate dataset name — validate_dataset","text":"dataset Character, specifying dataset name validate (e.g., \"key_measures\", \"activity_performance\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate dataset name — validate_dataset","text":"Invisible TRUE valid, aborts otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_frequency.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate frequency — validate_frequency","title":"Validate frequency — validate_frequency","text":"Validate frequency","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_frequency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate frequency — validate_frequency","text":"","code":"validate_frequency(frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_frequency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate frequency — validate_frequency","text":"frequency Character, specifying report frequency validate (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_frequency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate frequency — validate_frequency","text":"Invisible TRUE valid, aborts otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_period.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate period for a dataset and frequency — validate_period","title":"Validate period for a dataset and frequency — validate_period","text":"Validate period dataset frequency","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_period.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate period for a dataset and frequency — validate_period","text":"","code":"validate_period(period, dataset, frequency)"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_period.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate period for a dataset and frequency — validate_period","text":"period Character, specifying reporting period validate (e.g., \"2023-24\" annual, \"2025-09\" monthly) dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") frequency Character, specifying report frequency (\"annual\" \"monthly\")","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_period.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate period for a dataset and frequency — validate_period","text":"Invisible TRUE valid, aborts otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_raw_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate raw configuration structure — validate_raw_config","title":"Validate raw configuration structure — validate_raw_config","text":"Validate raw configuration structure","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_raw_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate raw configuration structure — validate_raw_config","text":"","code":"validate_raw_config(config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_raw_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate raw configuration structure — validate_raw_config","text":"config List, specifying parsed raw configuration","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_raw_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate raw configuration structure — validate_raw_config","text":"Invisible TRUE valid, aborts otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_tidy_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate tidy configuration structure — validate_tidy_config","title":"Validate tidy configuration structure — validate_tidy_config","text":"Validate tidy configuration structure","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_tidy_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate tidy configuration structure — validate_tidy_config","text":"","code":"validate_tidy_config(config)"},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_tidy_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate tidy configuration structure — validate_tidy_config","text":"config List, specifying parsed tidy configuration","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/validate_tidy_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate tidy configuration structure — validate_tidy_config","text":"Invisible TRUE valid, aborts otherwise","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_raw_downloads_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Record raw download metadata — write_raw_downloads_json","title":"Record raw download metadata — write_raw_downloads_json","text":"Record raw download metadata","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_raw_downloads_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Record raw download metadata — write_raw_downloads_json","text":"","code":"write_raw_downloads_json(   dataset,   period,   frequency,   url,   source_format,   storage_format,   raw_data_hash,   file_size )"},{"path":"https://bennettoxford.github.io/nhstt/reference/write_raw_downloads_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Record raw download metadata — write_raw_downloads_json","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") url Character, specifying source URL source_format Character, specifying original format (\"zip\", \"rar\", \"csv\", \"xlsx\") storage_format Character, specifying stored (\"csv\", \"parquet\") raw_data_hash Character, specifying SHA256 hash data file_size Numeric, specifying size stored file bytes","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write tidy data to Parquet cache — write_tidy_cache","title":"Write tidy data to Parquet cache — write_tidy_cache","text":"Write tidy data Parquet cache","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write tidy data to Parquet cache — write_tidy_cache","text":"","code":"write_tidy_cache(data, dataset, period, frequency, raw_data_hash, raw_data_url)"},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write tidy data to Parquet cache — write_tidy_cache","text":"data Tibble, containing cleaned data dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") raw_data_hash Character, specifying SHA256 hash raw data raw_data_url Character, specifying URL source data","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_versions_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Record version metadata — write_tidy_versions_json","title":"Record version metadata — write_tidy_versions_json","text":"Record version metadata","code":""},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_versions_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Record version metadata — write_tidy_versions_json","text":"","code":"write_tidy_versions_json(   dataset,   period,   frequency,   raw_data_hash,   raw_data_url )"},{"path":"https://bennettoxford.github.io/nhstt/reference/write_tidy_versions_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Record version metadata — write_tidy_versions_json","text":"dataset Character, specifying dataset name (e.g., \"key_measures\", \"activity_performance\") period Character, specifying reporting period (e.g., \"2023-24\" annual, \"2025-09\" monthly) frequency Character, specifying report frequency (\"annual\" \"monthly\") raw_data_hash Character, specifying SHA256 hash raw_data_url Character, specifying source URL","code":""}]
